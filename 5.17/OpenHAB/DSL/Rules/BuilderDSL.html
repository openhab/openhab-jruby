<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OpenHAB::DSL::Rules::BuilderDSL
  
    &mdash; openHAB JRuby
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/fonts.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/navbar.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/sidebar.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/coderay.css" type="text/css" />

<script type="text/javascript">
  pathId = "OpenHAB::DSL::Rules::BuilderDSL";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>
  <script type="text/javascript" charset="utf-8" src="/openhab-jruby/js/versions.js"></script>


    <meta property="og:description" name="description" content="Rule configuration for openHAB Rules engine - Documentation for openhab-scripting JRuby helper library.">
    <meta property="og:image" content="https://raw.githubusercontent.com/jruby/collateral/master/logos/PNGs/circle-fill/full-color/jruby-logo-circle-logo-fill-outline-medium.png">
    <meta property="og:image:alt" content="The JRuby logo">
    <script type="text/javascript">
      indexpath = '../../../index.json';
      base_url = '../../../';
    </script>
  </head>
  <body>
    <div id="app">
      <header class="navbar">
        <div class="sidebar-button">
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon">
            <path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path>
          </svg>
        </div>
        <a href="../../../index.html">
          <img src="../../../docs/images/openhab-logo.png" alt="openHAB" class="logo can-hide">
          <img src="../../../docs/images/jrubyscripting.png" alt="openHAB" class="logo">
          <span class="site-name can-hide">openHAB</span>
        </a>
        <div class="links">
          <form class="search-box" role="search" style="display: none">
  <input id="search-input" class="search-query ds-input" placeholder autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="search input" style="position: relative, vertical-align: top;">
  <div class="search-results" role="listbox">
    <ul></ul>
  </div>
</form>

          <nav class="nav-links can-hide">
            <div class="nav-item">
  <a href="https://github.com/openhab/openhab-jruby" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
</div>

          </nav>
        </div>
      </header>

      <div class="sidebar-mask"></div>
      <aside class="sidebar">
        <nav class="nav-links">
          <div class="nav-item">
  <a href="https://github.com/openhab/openhab-jruby" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
</div>

        </nav>
        <div class="page-versions">
  <ul class="version-switcher">
    <li><a href="/openhab-jruby/5.17" class="version-button stable">Stable <small>(5.17)</small></a></li>
    <li><a href="/openhab-jruby/main" class="version-button main">Latest <small>(main)</small></a></li>
  </ul>
  <div class="archived-versions">
    <div class="dropdown-wrapper">
      <a class="dropdown-title">
        <span class="title">Archived</span>
        <span class="arrow down"></span>
      </a>
      <ul class="nav-dropdown" id="version-dropdown">
        
      </ul>
    </div>
  </div>
  
  
</div>


        
        <ul class="sidebar-links">
          <li>
            <section class="sidebar-group collapsed">
              <p class="sidebar-heading"><span><a href="../../../index.html">Getting Started</a></span><a class="arrow toggle right"></a></p>
              <ul class="sidebar-links sidebar-group-items">
                
  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../index.html" title="USAGE">USAGE</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.CHANGELOG.html" title="CHANGELOG">CHANGELOG</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.CONTRIBUTING.html" title="Contributing">Contributing</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.README.html" title="README">README</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.conversions.html" title="Rule Conversions">Rule Conversions</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.examples.html" title="Examples">Examples</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.ruby-basics.html" title="Ruby Basics">Ruby Basics</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../../../file.testing.html" title="Testing Your Rules">Testing Your Rules</a>
    </span>
    
  </li>


              </ul>
            </section>
          </li>
          
          <li>
            <section class="sidebar-group">              
              <p class="sidebar-heading"><span><span class='object_link'><a href="../../../top-level-namespace.html" title="Top Level Namespace (root)">Classes</a></span></span><a class="arrow toggle down"></a></p>
              <ul class="sidebar-links sidebar-group-items class-list">
                
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../OpenHAB.html" title="OpenHAB (module)">OpenHAB</a></span>
      
      
        <a class="arrow toggle down"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../Core.html" title="OpenHAB::Core (module)">Core</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/AbstractUID.html" title="OpenHAB::Core::AbstractUID (class)">AbstractUID</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Actions.html" title="OpenHAB::Core::Actions (module)">Actions</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Actions/Audio.html" title="OpenHAB::Core::Actions::Audio (class)">Audio</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Actions/Ephemeris.html" title="OpenHAB::Core::Actions::Ephemeris (class)">Ephemeris</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Actions/Exec.html" title="OpenHAB::Core::Actions::Exec (class)">Exec</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Actions/HTTP.html" title="OpenHAB::Core::Actions::HTTP (class)">HTTP</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Actions/Ping.html" title="OpenHAB::Core::Actions::Ping (class)">Ping</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Actions/Transformation.html" title="OpenHAB::Core::Actions::Transformation (class)">Transformation</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Actions/Voice.html" title="OpenHAB::Core::Actions::Voice (class)">Voice</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Configuration.html" title="OpenHAB::Core::Configuration (class)">Configuration</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/DTO.html" title="OpenHAB::Core::DTO (module)">DTO</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/DTO/AbstractThingDTO.html" title="OpenHAB::Core::DTO::AbstractThingDTO (class)">AbstractThingDTO</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/DTO/ItemChannelLinkDTO.html" title="OpenHAB::Core::DTO::ItemChannelLinkDTO (class)">ItemChannelLinkDTO</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/EmulateHash.html" title="OpenHAB::Core::EmulateHash (module)">EmulateHash</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">EntityLookup</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Events.html" title="OpenHAB::Core::Events (module)">Events</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">AbstractEvent</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/AbstractItemRegistryEvent.html" title="OpenHAB::Core::Events::AbstractItemRegistryEvent (class)">AbstractItemRegistryEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/AbstractThingRegistryEvent.html" title="OpenHAB::Core::Events::AbstractThingRegistryEvent (class)">AbstractThingRegistryEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ChannelTriggeredEvent.html" title="OpenHAB::Core::Events::ChannelTriggeredEvent (class)">ChannelTriggeredEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemAddedEvent.html" title="OpenHAB::Core::Events::ItemAddedEvent (class)">ItemAddedEvent</a></span>
      
        &lt; AbstractItemRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemCommandEvent.html" title="OpenHAB::Core::Events::ItemCommandEvent (class)">ItemCommandEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemEvent.html" title="OpenHAB::Core::Events::ItemEvent (class)">ItemEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemRemovedEvent.html" title="OpenHAB::Core::Events::ItemRemovedEvent (class)">ItemRemovedEvent</a></span>
      
        &lt; AbstractItemRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemState.html" title="OpenHAB::Core::Events::ItemState (module)">ItemState</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemStateChangedEvent.html" title="OpenHAB::Core::Events::ItemStateChangedEvent (class)">ItemStateChangedEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemStateEvent.html" title="OpenHAB::Core::Events::ItemStateEvent (class)">ItemStateEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemStateUpdatedEvent.html" title="OpenHAB::Core::Events::ItemStateUpdatedEvent (class)">ItemStateUpdatedEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemTimeSeriesUpdatedEvent.html" title="OpenHAB::Core::Events::ItemTimeSeriesUpdatedEvent (class)">ItemTimeSeriesUpdatedEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ItemUpdatedEvent.html" title="OpenHAB::Core::Events::ItemUpdatedEvent (class)">ItemUpdatedEvent</a></span>
      
        &lt; AbstractItemRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ThingAddedEvent.html" title="OpenHAB::Core::Events::ThingAddedEvent (class)">ThingAddedEvent</a></span>
      
        &lt; AbstractThingRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ThingRemovedEvent.html" title="OpenHAB::Core::Events::ThingRemovedEvent (class)">ThingRemovedEvent</a></span>
      
        &lt; AbstractThingRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ThingStatusInfoChangedEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoChangedEvent (class)">ThingStatusInfoChangedEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ThingStatusInfoEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoEvent (class)">ThingStatusInfoEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/ThingUpdatedEvent.html" title="OpenHAB::Core::Events::ThingUpdatedEvent (class)">ThingUpdatedEvent</a></span>
      
        &lt; AbstractThingRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Events/TimerEvent.html" title="OpenHAB::Core::Events::TimerEvent (class)">TimerEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Items.html" title="OpenHAB::Core::Items (module)">Items</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/ColorItem.html" title="OpenHAB::Core::Items::ColorItem (class)">ColorItem</a></span>
      
        &lt; DimmerItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/ContactItem.html" title="OpenHAB::Core::Items::ContactItem (class)">ContactItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/DateTimeItem.html" title="OpenHAB::Core::Items::DateTimeItem (class)">DateTimeItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/DimmerItem.html" title="OpenHAB::Core::Items::DimmerItem (class)">DimmerItem</a></span>
      
        &lt; SwitchItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/GenericItem.html" title="OpenHAB::Core::Items::GenericItem (class)">GenericItem</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/GroupFunction.html" title="OpenHAB::Core::Items::GroupFunction (module)">GroupFunction</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/GroupItem.html" title="OpenHAB::Core::Items::GroupItem (class)">GroupItem</a></span>
      
        &lt; GenericItem
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">Members</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/ImageItem.html" title="OpenHAB::Core::Items::ImageItem (class)">ImageItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/ItemChannelLinks.html" title="OpenHAB::Core::Items::ItemChannelLinks (class)">ItemChannelLinks</a></span>
      
        &lt; SimpleDelegator
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/LocationItem.html" title="OpenHAB::Core::Items::LocationItem (class)">LocationItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Metadata.html" title="OpenHAB::Core::Items::Metadata (module)">Metadata</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Metadata/Hash.html" title="OpenHAB::Core::Items::Metadata::Hash (class)">Hash</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Metadata/NamespaceHash.html" title="OpenHAB::Core::Items::Metadata::NamespaceHash (class)">NamespaceHash</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Metadata/Provider.html" title="OpenHAB::Core::Items::Metadata::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/NumberItem.html" title="OpenHAB::Core::Items::NumberItem (class)">NumberItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/NumericItem.html" title="OpenHAB::Core::Items::NumericItem (module)">NumericItem</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Persistence.html" title="OpenHAB::Core::Items::Persistence (module)">Persistence</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Persistence/HistoricState.html" title="OpenHAB::Core::Items::Persistence::HistoricState (class)">HistoricState</a></span>
      
        &lt; SimpleDelegator
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/PlayerItem.html" title="OpenHAB::Core::Items::PlayerItem (class)">PlayerItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Provider.html" title="OpenHAB::Core::Items::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Registry.html" title="OpenHAB::Core::Items::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/RollershutterItem.html" title="OpenHAB::Core::Items::RollershutterItem (class)">RollershutterItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/Semantics.html" title="OpenHAB::Core::Items::Semantics (module)">Semantics</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Semantics/Provider.html" title="OpenHAB::Core::Items::Semantics::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Semantics/SemanticTag.html" title="OpenHAB::Core::Items::Semantics::SemanticTag (module)">SemanticTag</a></span>
      
      
    </span>
    
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Items/Semantics/TagClassMethods.html" title="OpenHAB::Core::Items::Semantics::TagClassMethods (module)">TagClassMethods</a></span>
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/StateStorage.html" title="OpenHAB::Core::Items::StateStorage (class)">StateStorage</a></span>
      
        &lt; SimpleDelegator
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/StringItem.html" title="OpenHAB::Core::Items::StringItem (class)">StringItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Items/SwitchItem.html" title="OpenHAB::Core::Items::SwitchItem (class)">SwitchItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/LazyArray.html" title="OpenHAB::Core::LazyArray (module)">LazyArray</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Provider.html" title="OpenHAB::Core::Provider (class)">Provider</a></span>
      
        &lt; org.openhab.core.common.registry.AbstractProvider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Registry.html" title="OpenHAB::Core::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Rules.html" title="OpenHAB::Core::Rules (module)">Rules</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Rules/Provider.html" title="OpenHAB::Core::Rules::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Rules/Registry.html" title="OpenHAB::Core::Rules::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Rule</a></span>
      
      
    </span>
    
    
  </li>

  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Rules/TaggedArray.html" title="OpenHAB::Core::Rules::TaggedArray (class)">TaggedArray</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/ScriptHandling.html" title="OpenHAB::Core::ScriptHandling (module)">ScriptHandling</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Sitemaps.html" title="OpenHAB::Core::Sitemaps (module)">Sitemaps</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Sitemaps/Provider.html" title="OpenHAB::Core::Sitemaps::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Things.html" title="OpenHAB::Core::Things (module)">Things</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/AbstractDescriptionType.html" title="OpenHAB::Core::Things::AbstractDescriptionType (class)">AbstractDescriptionType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Channel.html" title="OpenHAB::Core::Things::Channel (class)">Channel</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelDefinition.html" title="OpenHAB::Core::Things::ChannelDefinition (class)">ChannelDefinition</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelGroupDefinition.html" title="OpenHAB::Core::Things::ChannelGroupDefinition (class)">ChannelGroupDefinition</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelGroupType.html" title="OpenHAB::Core::Things::ChannelGroupType (class)">ChannelGroupType</a></span>
      
        &lt; AbstractDescriptionType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelGroupTypeUID.html" title="OpenHAB::Core::Things::ChannelGroupTypeUID (class)">ChannelGroupTypeUID</a></span>
      
        &lt; UID
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelGroupUID.html" title="OpenHAB::Core::Things::ChannelGroupUID (class)">ChannelGroupUID</a></span>
      
        &lt; UID
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelType.html" title="OpenHAB::Core::Things::ChannelType (class)">ChannelType</a></span>
      
        &lt; AbstractDescriptionType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelTypeUID.html" title="OpenHAB::Core::Things::ChannelTypeUID (class)">ChannelTypeUID</a></span>
      
        &lt; UID
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ChannelUID.html" title="OpenHAB::Core::Things::ChannelUID (class)">ChannelUID</a></span>
      
        &lt; UID
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ItemChannelLink.html" title="OpenHAB::Core::Things::ItemChannelLink (class)">ItemChannelLink</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Links.html" title="OpenHAB::Core::Things::Links (module)">Links</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Things/Links/Provider.html" title="OpenHAB::Core::Things::Links::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ProfileCallback.html" title="OpenHAB::Core::Things::ProfileCallback (module)">ProfileCallback</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Provider.html" title="OpenHAB::Core::Things::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Registry.html" title="OpenHAB::Core::Things::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Thing</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../../Core/Things/Thing/ChannelsArray.html" title="OpenHAB::Core::Things::Thing::ChannelsArray (class)">ChannelsArray</a></span>
      
        &lt; Array
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ThingType.html" title="OpenHAB::Core::Things::ThingType (class)">ThingType</a></span>
      
        &lt; AbstractDescriptionType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ThingTypeUID.html" title="OpenHAB::Core::Things::ThingTypeUID (class)">ThingTypeUID</a></span>
      
        &lt; UID
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/ThingUID.html" title="OpenHAB::Core::Things::ThingUID (class)">ThingUID</a></span>
      
        &lt; UID
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Things/UID.html" title="OpenHAB::Core::Things::UID (class)">UID</a></span>
      
        &lt; AbstractUID
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Timer.html" title="OpenHAB::Core::Timer (class)">Timer</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/Types.html" title="OpenHAB::Core::Types (module)">Types</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/Command.html" title="OpenHAB::Core::Types::Command (module)">Command</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/DateTimeType.html" title="OpenHAB::Core::Types::DateTimeType (class)">DateTimeType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/DecimalType.html" title="OpenHAB::Core::Types::DecimalType (class)">DecimalType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/HSBType.html" title="OpenHAB::Core::Types::HSBType (class)">HSBType</a></span>
      
        &lt; PercentType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/IncreaseDecreaseType.html" title="OpenHAB::Core::Types::IncreaseDecreaseType (class)">IncreaseDecreaseType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/NextPreviousType.html" title="OpenHAB::Core::Types::NextPreviousType (class)">NextPreviousType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/NumericType.html" title="OpenHAB::Core::Types::NumericType (module)">NumericType</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/OnOffType.html" title="OpenHAB::Core::Types::OnOffType (class)">OnOffType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/OpenClosedType.html" title="OpenHAB::Core::Types::OpenClosedType (class)">OpenClosedType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/PercentType.html" title="OpenHAB::Core::Types::PercentType (class)">PercentType</a></span>
      
        &lt; DecimalType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/PlayPauseType.html" title="OpenHAB::Core::Types::PlayPauseType (class)">PlayPauseType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/PointType.html" title="OpenHAB::Core::Types::PointType (class)">PointType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/QuantityType.html" title="OpenHAB::Core::Types::QuantityType (class)">QuantityType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/RawType.html" title="OpenHAB::Core::Types::RawType (class)">RawType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/RefreshType.html" title="OpenHAB::Core::Types::RefreshType (class)">RefreshType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/RewindFastforwardType.html" title="OpenHAB::Core::Types::RewindFastforwardType (class)">RewindFastforwardType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/StopMoveType.html" title="OpenHAB::Core::Types::StopMoveType (class)">StopMoveType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/StringType.html" title="OpenHAB::Core::Types::StringType (class)">StringType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/TimeSeries.html" title="OpenHAB::Core::Types::TimeSeries (class)">TimeSeries</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/Type.html" title="OpenHAB::Core::Types::Type (module)">Type</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/UnDefType.html" title="OpenHAB::Core::Types::UnDefType (class)">UnDefType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../Core/Types/UpDownType.html" title="OpenHAB::Core::Types::UpDownType (class)">UpDownType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../Core/ValueCache.html" title="OpenHAB::Core::ValueCache (module)">ValueCache</a></span>
      
      
    </span>
    
    
  </li>

  
  
  

        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../CoreExt.html" title="OpenHAB::CoreExt (module)">CoreExt</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../CoreExt/Between.html" title="OpenHAB::CoreExt::Between (module)">Between</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../CoreExt/Ephemeris.html" title="OpenHAB::CoreExt::Ephemeris (module)">Ephemeris</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../CoreExt/Java.html" title="OpenHAB::CoreExt::Java (module)">Java</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Class.html" title="OpenHAB::CoreExt::Java::Class (class)">Class</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Instant.html" title="OpenHAB::CoreExt::Java::Instant (class)">Instant</a></span>
      
        &lt; java.lang.Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/LocalDate.html" title="OpenHAB::CoreExt::Java::LocalDate (class)">LocalDate</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Month.html" title="OpenHAB::CoreExt::Java::Month (class)">Month</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/MonthDay.html" title="OpenHAB::CoreExt::Java::MonthDay (class)">MonthDay</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Period.html" title="OpenHAB::CoreExt::Java::Period (class)">Period</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/TemporalAmount.html" title="OpenHAB::CoreExt::Java::TemporalAmount (module)">TemporalAmount</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/Time.html" title="OpenHAB::CoreExt::Java::Time (module)">Time</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Java/ZonedDateTime.html" title="OpenHAB::CoreExt::Java::ZonedDateTime (class)">ZonedDateTime</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../CoreExt/Ruby.html" title="OpenHAB::CoreExt::Ruby (module)">Ruby</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Ruby/Numeric.html" title="OpenHAB::CoreExt::Ruby::Numeric (module)">Numeric</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Ruby/QuantityTypeConversion.html" title="OpenHAB::CoreExt::Ruby::QuantityTypeConversion (module)">QuantityTypeConversion</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../CoreExt/Ruby/Range.html" title="OpenHAB::CoreExt::Ruby::Range (module)">Range</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../DSL.html" title="OpenHAB::DSL (module)">DSL</a></span>
      
      
        <a class="arrow toggle down"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../ConfigDescription.html" title="OpenHAB::DSL::ConfigDescription (module)">ConfigDescription</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../ConfigDescription/Builder.html" title="OpenHAB::DSL::ConfigDescription::Builder (class)">Builder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Debouncer.html" title="OpenHAB::DSL::Debouncer (class)">Debouncer</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Events.html" title="OpenHAB::DSL::Events (module)">Events</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Events/WatchEvent.html" title="OpenHAB::DSL::Events::WatchEvent (class)">WatchEvent</a></span>
      
        &lt; Struct
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Items.html" title="OpenHAB::DSL::Items (module)">Items</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/Builder.html" title="OpenHAB::DSL::Items::Builder (module)">Builder</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/Ensure.html" title="OpenHAB::DSL::Items::Ensure (module)">Ensure</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../Items/Ensure/Ensurable.html" title="OpenHAB::DSL::Items::Ensure::Ensurable (module)">Ensurable</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../Items/Ensure/Item.html" title="OpenHAB::DSL::Items::Ensure::Item (module)">Item</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/GroupItemBuilder.html" title="OpenHAB::DSL::Items::GroupItemBuilder (class)">GroupItemBuilder</a></span>
      
        &lt; ItemBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/ItemBuilder.html" title="OpenHAB::DSL::Items::ItemBuilder (class)">ItemBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Items/TimedCommand.html" title="OpenHAB::DSL::Items::TimedCommand (module)">TimedCommand</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="../Items/TimedCommand/TimedCommandDetails.html" title="OpenHAB::DSL::Items::TimedCommand::TimedCommandDetails (class)">TimedCommandDetails</a></span>
      
        &lt; Struct
      
      
    </span>
    
    
  </li>

  

        
      </ul>
    
  </li>


        
      </ul>
    
  </li>

  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Rules.html" title="OpenHAB::DSL::Rules (module)">Rules</a></span>
      
      
        <a class="arrow toggle down"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Builder.html" title="OpenHAB::DSL::Rules::Builder (class)">Builder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link active">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="" title="OpenHAB::DSL::Rules::BuilderDSL (class)">BuilderDSL</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Terse.html" title="OpenHAB::DSL::Rules::Terse (module)">Terse</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Sitemaps.html" title="OpenHAB::DSL::Sitemaps (module)">Sitemaps</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/Builder.html" title="OpenHAB::DSL::Sitemaps::Builder (class)">Builder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/ButtongridBuilder.html" title="OpenHAB::DSL::Sitemaps::ButtongridBuilder (class)">ButtongridBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/ChartBuilder.html" title="OpenHAB::DSL::Sitemaps::ChartBuilder (class)">ChartBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/ColorpickerBuilder.html" title="OpenHAB::DSL::Sitemaps::ColorpickerBuilder (class)">ColorpickerBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/DefaultBuilder.html" title="OpenHAB::DSL::Sitemaps::DefaultBuilder (class)">DefaultBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/FrameBuilder.html" title="OpenHAB::DSL::Sitemaps::FrameBuilder (class)">FrameBuilder</a></span>
      
        &lt; LinkableWidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/GroupBuilder.html" title="OpenHAB::DSL::Sitemaps::GroupBuilder (class)">GroupBuilder</a></span>
      
        &lt; LinkableWidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/ImageBuilder.html" title="OpenHAB::DSL::Sitemaps::ImageBuilder (class)">ImageBuilder</a></span>
      
        &lt; LinkableWidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/InputBuilder.html" title="OpenHAB::DSL::Sitemaps::InputBuilder (class)">InputBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/LinkableWidgetBuilder.html" title="OpenHAB::DSL::Sitemaps::LinkableWidgetBuilder (class)">LinkableWidgetBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/MapviewBuilder.html" title="OpenHAB::DSL::Sitemaps::MapviewBuilder (class)">MapviewBuilder</a></span>
      
        &lt; DefaultBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/SelectionBuilder.html" title="OpenHAB::DSL::Sitemaps::SelectionBuilder (class)">SelectionBuilder</a></span>
      
        &lt; SwitchBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/SetpointBuilder.html" title="OpenHAB::DSL::Sitemaps::SetpointBuilder (class)">SetpointBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/SitemapBuilder.html" title="OpenHAB::DSL::Sitemaps::SitemapBuilder (class)">SitemapBuilder</a></span>
      
        &lt; LinkableWidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/SliderBuilder.html" title="OpenHAB::DSL::Sitemaps::SliderBuilder (class)">SliderBuilder</a></span>
      
        &lt; SetpointBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/SwitchBuilder.html" title="OpenHAB::DSL::Sitemaps::SwitchBuilder (class)">SwitchBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/TextBuilder.html" title="OpenHAB::DSL::Sitemaps::TextBuilder (class)">TextBuilder</a></span>
      
        &lt; LinkableWidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/VideoBuilder.html" title="OpenHAB::DSL::Sitemaps::VideoBuilder (class)">VideoBuilder</a></span>
      
        &lt; WidgetBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/WebviewBuilder.html" title="OpenHAB::DSL::Sitemaps::WebviewBuilder (class)">WebviewBuilder</a></span>
      
        &lt; DefaultBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Sitemaps/WidgetBuilder.html" title="OpenHAB::DSL::Sitemaps::WidgetBuilder (class)">WidgetBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../Things.html" title="OpenHAB::DSL::Things (module)">Things</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Things/BridgeBuilder.html" title="OpenHAB::DSL::Things::BridgeBuilder (class)">BridgeBuilder</a></span>
      
        &lt; ThingBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Things/Builder.html" title="OpenHAB::DSL::Things::Builder (class)">Builder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Things/ChannelBuilder.html" title="OpenHAB::DSL::Things::ChannelBuilder (class)">ChannelBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../Things/ThingBuilder.html" title="OpenHAB::DSL::Things::ThingBuilder (class)">ThingBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../TimerManager.html" title="OpenHAB::DSL::TimerManager (class)">TimerManager</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../Log.html" title="OpenHAB::Log (module)">Log</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../Logger.html" title="OpenHAB::Logger (class)">Logger</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../OSGi.html" title="OpenHAB::OSGi (module)">OSGi</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../RSpec.html" title="OpenHAB::RSpec (module)">RSpec</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../RSpec/Configuration.html" title="OpenHAB::RSpec::Configuration (module)">Configuration</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../RSpec/ExampleGroup.html" title="OpenHAB::RSpec::ExampleGroup (module)">ExampleGroup</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="../../RSpec/ExampleGroup/ClassMethods.html" title="OpenHAB::RSpec::ExampleGroup::ClassMethods (module)">ClassMethods</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="../../RSpec/Helpers.html" title="OpenHAB::RSpec::Helpers (module)">Helpers</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="../../Transform.html" title="OpenHAB::Transform (module)">Transform</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Array.html" title="Array (class)">Array</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Date.html" title="Date (class)">Date</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../DateTime.html" title="DateTime (class)">DateTime</a></span>
      
        &lt; Date
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Enumerable.html" title="Enumerable (module)">Enumerable</a></span>
      
      
    </span>
    
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Float.html" title="Float (class)">Float</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Integer.html" title="Integer (class)">Integer</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Module.html" title="Module (class)">Module</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Numeric.html" title="Numeric (class)">Numeric</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Range.html" title="Range (class)">Range</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../../../Time.html" title="Time (class)">Time</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  

              </ul>
            </section>
          </li>
        </ul>
      </aside>

      <main class="page">
        <div class="content"><h1>Class: OpenHAB::DSL::Rules::BuilderDSL
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'>Object</span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'>Object</span></li>
          
            <li class="next">OpenHAB::DSL::Rules::BuilderDSL</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="../../Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">Core::EntityLookup</a></span>, <span class='object_link'><a href="../../DSL.html" title="OpenHAB::DSL (module)">OpenHAB::DSL</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/openhab/dsl/rules/builder.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Rule configuration for openHAB Rules engine</p>


  </div>
</div>
<div class="tags">
  

</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../../DSL.html" title="OpenHAB::DSL (module)">OpenHAB::DSL</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../DSL.html#VERSION-constant" title="OpenHAB::DSL::VERSION (constant)">VERSION</a></span></p>





  
    <h2 id="Execution-Blocks-group">
      Execution Blocks
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delay-instance_method" title="#delay (instance method)">#<strong>delay</strong>(duration)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a wait between or after run blocks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#otherwise-instance_method" title="#otherwise (instance method)">#<strong>otherwise</strong> {|event| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a block that will be passed event data, to be run if guards are not satisfied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong> {|event| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a block that will be passed event data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#triggered-instance_method" title="#triggered (instance method)">#<strong>triggered</strong> {|item| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a block that will be passed the triggering item.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Configuration-group">
      Configuration
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dependencies-instance_method" title="#dependencies (instance method)">#<strong>dependencies</strong>(trigger_types = %i[changed updated])  &#x21d2; Array&lt;Item, GroupItem::Members&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns all <span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Items</a></span> (or <span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span>) referenced by the specified trigger types in this rule.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#description-instance_method" title="#description (instance method)">#<strong>description</strong>(value)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the rule's description.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enabled-instance_method" title="#enabled (instance method)">#<strong>enabled</strong>(value)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Enable or disable the rule from executing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>(value)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the rule's name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tags-instance_method" title="#tags (instance method)">#<strong>tags</strong>(*tags)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the rule's tags.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uid-instance_method" title="#uid (instance method)">#<strong>uid</strong>(id)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the rule's UID.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Guards-group">
      Guards
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <div class="docstring">
  <div class="discussion">
    <p>Guards exist to only permit rules to run if certain conditions are
satisfied. Think of these as declarative <code>if</code> statements that keep
the run block free of conditional logic, although you can of course
still use conditional logic in run blocks if you prefer.</p>
<h3 id="guard-combination"><a href="#guard-combination" class="header-anchor">#</a>Guard Combination</h3>
<p>Multiple guards can be used on the same rule. All must be satisfied
for a rule to execute.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Set OutsideDimmer to 50% if LightSwitch turned on and OtherSwitch is OFF and Door is CLOSED</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">LightSwitch</span>, <span class="key">to</span>: <span class="constant">ON</span>
  run { <span class="constant">OutsideDimmer</span> &lt;&lt; <span class="integer">50</span> }
  only_if { <span class="constant">Door</span>.closed? }
  not_if { <span class="constant">OtherSwitch</span>.on? }
<span class="keyword">end</span></code></pre>
    
  </div>


</div>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#between-instance_method" title="#between (instance method)">#<strong>between</strong>(range)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Only execute rule if the current time is between the supplied time ranges.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#debounce_for-instance_method" title="#debounce_for (instance method)">#<strong>debounce_for</strong>(debounce_time)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Waits until triggers have stopped firing for a period of time before executing the rule.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#not_if-instance_method" title="#not_if (instance method)">#<strong>not_if</strong> {|event| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Prevents execution of rules when the block's result is true and allows it when it's true.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#only_every-instance_method" title="#only_every (instance method)">#<strong>only_every</strong>(interval)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Executes the rule then ignores subsequent triggers for a given duration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#only_if-instance_method" title="#only_if (instance method)">#<strong>only_if</strong> {|event| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Allows rule execution when the block's result is true and prevents it when it's false.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#throttle_for-instance_method" title="#throttle_for (instance method)">#<strong>throttle_for</strong>(duration)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Rate-limits rule executions by delaying triggers and executing the last trigger within the given duration.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Triggers-group">
      Triggers
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>The trigger attachment feature is not available for UI rules.</p>
</div>
  </div>

<p>Triggers specify what will cause the execution blocks to run.
Multiple triggers can be defined within the same rule.</p>
<h3 id="trigger-attachments"><a href="#trigger-attachments" class="header-anchor">#</a>Trigger Attachments</h3>
<p>All triggers support event attachments that enable the association
of an object to a trigger. This enables one to use the same rule
and take different actions if the trigger is different. The
attached object is passed to the execution block through the
<span class='object_link'><a href="../../Core/Events/AbstractEvent.html#attachment-instance_method" title="OpenHAB::Core::Events::AbstractEvent#attachment (method)">OpenHAB::Core::Events::AbstractEvent#attachment</a></span> accessor.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Set Dark switch at sunrise and sunset</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">'</span><span class="content">astro:sun:home:rise#event</span><span class="delimiter">'</span></span>, <span class="key">attach</span>: <span class="constant">OFF</span>
  channel <span class="string"><span class="delimiter">'</span><span class="content">astro:sun:home:set#event</span><span class="delimiter">'</span></span>, <span class="key">attach</span>: <span class="constant">ON</span>
  run { |event| <span class="constant">Dark</span> &lt;&lt; event.attachment }
<span class="keyword">end</span></code></pre>
    
  </div>


</div>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at-instance_method" title="#at (instance method)">#<strong>at</strong>(item)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger based on the date and time stored in a <span class='object_link'><a href="../../Core/Items/DateTimeItem.html" title="OpenHAB::Core::Items::DateTimeItem (class)">DateTimeItem</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#changed-instance_method" title="#changed (instance method)">#<strong>changed</strong>(*items, to: nil, from: nil, for: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger when an item, member of a group, or a thing changed states.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#channel-instance_method" title="#channel (instance method)">#<strong>channel</strong>(*channels, thing: nil, triggered: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a channel trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#channel_linked-instance_method" title="#channel_linked (instance method)">#<strong>channel_linked</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a channel linked trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#channel_unlinked-instance_method" title="#channel_unlinked (instance method)">#<strong>channel_unlinked</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a channel unlinked trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cron-instance_method" title="#cron (instance method)">#<strong>cron</strong>(expression = nil, attach: nil, **fields)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a cron trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#event-instance_method" title="#event (instance method)">#<strong>event</strong>(topic, source: nil, types: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger on events coming through the event bus.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every-instance_method" title="#every (instance method)">#<strong>every</strong>(value, at: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a rule that executes at the specified interval.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#item_added-instance_method" title="#item_added (instance method)">#<strong>item_added</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates an item added trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#item_removed-instance_method" title="#item_removed (instance method)">#<strong>item_removed</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates an item removed trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#item_updated-instance_method" title="#item_updated (instance method)">#<strong>item_updated</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates an item updated trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_load-instance_method" title="#on_load (instance method)">#<strong>on_load</strong>(delay: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger that executes when the script is loaded.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_start-instance_method" title="#on_start (instance method)">#<strong>on_start</strong>(at_level: nil, at_levels: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger that executes when openHAB reaches a certain start level.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#received_command-instance_method" title="#received_command (instance method)">#<strong>received_command</strong>(*items, command: nil, commands: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a trigger for when an item or group receives a command.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#thing_added-instance_method" title="#thing_added (instance method)">#<strong>thing_added</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a thing added trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#thing_removed-instance_method" title="#thing_removed (instance method)">#<strong>thing_removed</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a thing removed trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#thing_updated-instance_method" title="#thing_updated (instance method)">#<strong>thing_updated</strong>(attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a thing updated trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#time_series_updated-instance_method" title="#time_series_updated (instance method)">#<strong>time_series_updated</strong>(*items, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a time series updated trigger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trigger-instance_method" title="#trigger (instance method)">#<strong>trigger</strong>(type, attach: nil, **configuration)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a generic trigger given the trigger type uid and a configuration hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#updated-instance_method" title="#updated (instance method)">#<strong>updated</strong>(*items, to: nil, attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a trigger when item, group or thing is updated.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#watch-instance_method" title="#watch (instance method)">#<strong>watch</strong>(path, glob: &quot;*&quot;, for: %i[created deleted modified], attach: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a trigger to watch a path.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Instance Method Summary">
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../DSL.html" title="OpenHAB::DSL (module)">OpenHAB::DSL</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../DSL.html#after-class_method" title="OpenHAB::DSL.after (method)">after</a></span>, <span class='object_link'><a href="../../DSL.html#between-class_method" title="OpenHAB::DSL.between (method)">between</a></span>, <span class='object_link'><a href="../../DSL.html#config_description-class_method" title="OpenHAB::DSL.config_description (method)">config_description</a></span>, <span class='object_link'><a href="../../DSL.html#debounce_for-class_method" title="OpenHAB::DSL.debounce_for (method)">debounce_for</a></span>, <span class='object_link'><a href="../../DSL.html#ensure_states-class_method" title="OpenHAB::DSL.ensure_states (method)">ensure_states</a></span>, <span class='object_link'><a href="../../DSL.html#ensure_states!-class_method" title="OpenHAB::DSL.ensure_states! (method)">ensure_states!</a></span>, <span class='object_link'><a href="../../DSL.html#holiday_file-class_method" title="OpenHAB::DSL.holiday_file (method)">holiday_file</a></span>, <span class='object_link'><a href="../../DSL.html#holiday_file!-class_method" title="OpenHAB::DSL.holiday_file! (method)">holiday_file!</a></span>, <span class='object_link'><a href="../../DSL.html#items-class_method" title="OpenHAB::DSL.items (method)">items</a></span>, <span class='object_link'><a href="../../DSL.html#only_every-class_method" title="OpenHAB::DSL.only_every (method)">only_every</a></span>, <span class='object_link'><a href="../../DSL.html#persistence-class_method" title="OpenHAB::DSL.persistence (method)">persistence</a></span>, <span class='object_link'><a href="../../DSL.html#persistence!-class_method" title="OpenHAB::DSL.persistence! (method)">persistence!</a></span>, <span class='object_link'><a href="../../DSL.html#profile-class_method" title="OpenHAB::DSL.profile (method)">profile</a></span>, <span class='object_link'><a href="../../DSL.html#provider-class_method" title="OpenHAB::DSL.provider (method)">provider</a></span>, <span class='object_link'><a href="../../DSL.html#provider!-class_method" title="OpenHAB::DSL.provider! (method)">provider!</a></span>, <span class='object_link'><a href="../../DSL.html#rule-class_method" title="OpenHAB::DSL.rule (method)">rule</a></span>, <span class='object_link'><a href="../../DSL.html#rules-class_method" title="OpenHAB::DSL.rules (method)">rules</a></span>, <span class='object_link'><a href="../../DSL.html#scene-class_method" title="OpenHAB::DSL.scene (method)">scene</a></span>, <span class='object_link'><a href="../../DSL.html#script-class_method" title="OpenHAB::DSL.script (method)">script</a></span>, <span class='object_link'><a href="../../DSL.html#shared_cache-class_method" title="OpenHAB::DSL.shared_cache (method)">shared_cache</a></span>, <span class='object_link'><a href="../../DSL.html#sitemaps-class_method" title="OpenHAB::DSL.sitemaps (method)">sitemaps</a></span>, <span class='object_link'><a href="../../DSL.html#store_states-class_method" title="OpenHAB::DSL.store_states (method)">store_states</a></span>, <span class='object_link'><a href="../../DSL.html#things-class_method" title="OpenHAB::DSL.things (method)">things</a></span>, <span class='object_link'><a href="../../DSL.html#throttle_for-class_method" title="OpenHAB::DSL.throttle_for (method)">throttle_for</a></span>, <span class='object_link'><a href="../../DSL.html#timers-class_method" title="OpenHAB::DSL.timers (method)">timers</a></span>, <span class='object_link'><a href="../../DSL.html#transform-class_method" title="OpenHAB::DSL.transform (method)">transform</a></span>, <span class='object_link'><a href="../../DSL.html#unit-class_method" title="OpenHAB::DSL.unit (method)">unit</a></span>, <span class='object_link'><a href="../../DSL.html#unit!-class_method" title="OpenHAB::DSL.unit! (method)">unit!</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../Core/ScriptHandling.html" title="OpenHAB::Core::ScriptHandling (module)">Core::ScriptHandling</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../Core/ScriptHandling.html#script_loaded-class_method" title="OpenHAB::Core::ScriptHandling.script_loaded (method)">script_loaded</a></span>, <span class='object_link'><a href="../../Core/ScriptHandling.html#script_unloaded-class_method" title="OpenHAB::Core::ScriptHandling.script_unloaded (method)">script_unloaded</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../Core/Actions.html" title="OpenHAB::Core::Actions (module)">Core::Actions</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../Core/Actions.html#notify-class_method" title="OpenHAB::Core::Actions.notify (method)">notify</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">Core::EntityLookup</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../Core/EntityLookup.html#method_missing-instance_method" title="OpenHAB::Core::EntityLookup#method_missing (method)">#method_missing</a></span></p>

  
  
  
  
  
  <div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'>OpenHAB::DSL</span>
    
  </p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="at-instance_method">
  
    #<strong>at</strong>(item)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger based on the date and time stored in a <span class='object_link'><a href="../../Core/Items/DateTimeItem.html" title="OpenHAB::Core::Items::DateTimeItem (class)">DateTimeItem</a></span></p>
<p>The trigger will dynamically update whenever the state of the item changes.
If the item is <span class='object_link'><a href="../../Core/Types/UnDefType.html#NULL-constant" title="OpenHAB::Core::Types::UnDefType::NULL (constant)">NULL</a></span> or <span class='object_link'><a href="../../Core/Types/UnDefType.html#UNDEF-constant" title="OpenHAB::Core::Types::UnDefType::UNDEF (constant)">UNDEF</a></span>, the trigger will not run.</p>
<p>To trigger just on the time portion of the item, use <span class='object_link'><a href="#every-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#every (method)">#every</a></span> instead, e.g.
<code>every :day, at: MyDateTimeItem</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">say hello when the kids get home from school</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  at <span class="constant">HomeFromSchool_Time</span>
  run <span class="keyword">do</span>
    <span class="constant">KitchenEcho_TTS</span> &lt;&lt; <span class="string"><span class="delimiter">&quot;</span><span class="content">hi kids! how was school?</span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">set home from school time</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  on_load
  every <span class="symbol">:day</span>, <span class="key">at</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">5:00am</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  run <span class="keyword">do</span>
    <span class="constant">HomeFromSchool_Time</span>.ensure.update(school_day? ? <span class="constant">LocalTime</span>.parse(<span class="string"><span class="delimiter">&quot;</span><span class="content">3:30pm</span><span class="delimiter">&quot;</span></span>) : <span class="constant">NULL</span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>item</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The item (or its name)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1660
1661
1662
1663</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1660</span>

<span class="keyword">def</span> <span class="function">at</span>(item)
  item = item.name <span class="keyword">if</span> item.is_a?(<span class="constant">Item</span>)
  trigger(<span class="string"><span class="delimiter">&quot;</span><span class="content">timer.DateTimeTrigger</span><span class="delimiter">&quot;</span></span>, <span class="key">itemName</span>: item.to_s)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="between-instance_method">
  
    #<strong>between</strong>(range)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Only execute rule if the current time is between the supplied time ranges.</p>
<p>If the range is of strings, it will be parsed to an appropriate time class.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Between guard</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">MotionSensor</span>, <span class="key">to</span>: <span class="constant">OPEN</span>
  between <span class="string"><span class="delimiter">&quot;</span><span class="content">6:05</span><span class="delimiter">&quot;</span></span>..<span class="string"><span class="delimiter">&quot;</span><span class="content">14:05:05</span><span class="delimiter">&quot;</span></span> <span class="comment"># Include end</span>
  run { <span class="constant">Light</span>.on }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Between guard</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">MotionSensor</span>, <span class="key">to</span>: <span class="constant">OPEN</span>
  between <span class="string"><span class="delimiter">&quot;</span><span class="content">6:05</span><span class="delimiter">&quot;</span></span>..<span class="string"><span class="delimiter">&quot;</span><span class="content">14:05:05</span><span class="delimiter">&quot;</span></span> <span class="comment"># Excludes end second</span>
  run { <span class="constant">Light</span>.on }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Between guard</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">MotionSensor</span>, <span class="key">to</span>: <span class="constant">OPEN</span>
  between <span class="constant">LocalTime</span>.of(<span class="integer">6</span>, <span class="integer">5</span>)..<span class="constant">LocalTime</span>.of(<span class="integer">14</span>, <span class="integer">15</span>, <span class="integer">5</span>)
  run { <span class="constant">Light</span>.on }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>String of <span class='object_link'><a href="../../CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span></p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Log an entry if started between 3:30:04 and midnight using strings</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  run { logger.info (<span class="string"><span class="delimiter">&quot;</span><span class="content">Started at </span><span class="inline"><span class="inline-delimiter">#{</span><span class="constant">LocalTime</span>.now<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)}
  between <span class="string"><span class="delimiter">'</span><span class="content">3:30:04</span><span class="delimiter">'</span></span>..<span class="constant">LocalTime</span>::<span class="constant">MIDNIGHT</span>
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p><span class='object_link'><a href="../../CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span></p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Log an entry if started between 3:30:04 and midnight using LocalTime objects</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  run { logger.info (<span class="string"><span class="delimiter">&quot;</span><span class="content">Started at </span><span class="inline"><span class="inline-delimiter">#{</span><span class="constant">LocalTime</span>.now<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)}
  between <span class="constant">LocalTime</span>.of(<span class="integer">3</span>, <span class="integer">30</span>, <span class="integer">4</span>)..<span class="constant">LocalTime</span>::<span class="constant">MIDNIGHT</span>
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>String of <span class='object_link'><a href="../../CoreExt/Java/MonthDay.html" title="OpenHAB::CoreExt::Java::MonthDay (class)">MonthDay</a></span></p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Log an entry if started between March 9th and April 10ths</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  run { logger.info (<span class="string"><span class="delimiter">&quot;</span><span class="content">Started at </span><span class="inline"><span class="inline-delimiter">#{</span><span class="constant">Time</span>.now<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)}
  between <span class="string"><span class="delimiter">'</span><span class="content">03-09</span><span class="delimiter">'</span></span>..<span class="string"><span class="delimiter">'</span><span class="content">04-10</span><span class="delimiter">'</span></span>
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p><span class='object_link'><a href="../../CoreExt/Java/MonthDay.html" title="OpenHAB::CoreExt::Java::MonthDay (class)">MonthDay</a></span></p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Log an entry if started between March 9th and April 10ths</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  run { logger.info (<span class="string"><span class="delimiter">&quot;</span><span class="content">Started at </span><span class="inline"><span class="inline-delimiter">#{</span><span class="constant">Time</span>.now<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)}
  between <span class="constant">MonthDay</span>.of(<span class="integer">03</span>,<span class="integer">09</span>)..<span class="string"><span class="delimiter">'</span><span class="content">04-06</span><span class="delimiter">'</span></span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>range</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


558</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 558</span>

prop <span class="symbol">:between</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="changed-instance_method">
  
    #<strong>changed</strong>(*items, to: nil, from: nil, for: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger when an item, member of a group, or a thing changed
states.</p>
<p>When the changed element is a <span class='object_link'><a href="../../Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Thing</a></span>, the <code>from</code>
and <code>to</code> values will accept symbols and strings, where the symbol'
matches the
<a href="https://www.openhab.org/docs/concepts/things.html#thing-status">supported status</a>.</p>
<p>The <code>event</code> passed to run blocks will be an
<span class='object_link'><a href="../../Core/Events/ItemStateChangedEvent.html" title="OpenHAB::Core::Events::ItemStateChangedEvent (class)">Core::Events::ItemStateChangedEvent</a></span> or a
<span class='object_link'><a href="../../Core/Events/ThingStatusInfoChangedEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoChangedEvent (class)">Core::Events::ThingStatusInfoChangedEvent</a></span> depending on if the
triggering element was an item or a thing.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Multiple items can be separated with a comma:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when either sensor changed</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">FrontMotion_Sensor</span>, <span class="constant">RearMotion_Sensor</span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Motion detected by </span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Group member trigger</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when member changed</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Sensors</span>.members
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Motion detected by </span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p><code>for</code> parameter can be a proc too:</p>
</div></p>
      
      <pre class="example code"><code><span class="constant">Alarm_Delay</span> &lt;&lt; <span class="integer">20</span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when item is changed for specified duration</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Alarm_Mode</span>, <span class="key">for</span>: -&gt; { <span class="constant">Alarm_Delay</span>.state }
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>You can optionally provide <code>from</code> and <code>to</code> states to restrict the cases in which the rule executes:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when item is changed to specific number, from specific number, for specified duration</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Alarm_Mode</span>, <span class="key">from</span>: <span class="integer">8</span>, <span class="key">to</span>: [<span class="integer">14</span>,<span class="integer">12</span>], <span class="key">for</span>: <span class="integer">12</span>.seconds
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with ranges:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute when item changed to a range of numbers, from a range of numbers, for specified duration</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Alarm_Mode</span>, <span class="key">from</span>: <span class="integer">8</span>..<span class="integer">10</span>, <span class="key">to</span>: <span class="integer">12</span>..<span class="integer">14</span>, <span class="key">for</span>: <span class="integer">12</span>.seconds
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with endless ranges:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when item is changed to any number greater than 12</span><span class="delimiter">&quot;</span></span>
  changed <span class="constant">Alarm_Mode</span>, <span class="key">to</span>: (<span class="integer">12</span>..)   <span class="comment"># Parenthesis required for endless ranges</span>
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with procs:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute when item state is changed from an odd number, to an even number, for specified duration</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Alarm_Mode</span>, <span class="key">from</span>: proc { |from| from.odd? }, <span class="key">to</span>: proc {|to| to.even? }, <span class="key">for</span>: <span class="integer">12</span>.seconds
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with lambdas:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute when item state is changed from an odd number, to an even number, for specified duration</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Alarm_Mode</span>, <span class="key">from</span>: -&gt; from { from.odd? }, <span class="key">to</span>: -&gt; to { to.even? }, <span class="key">for</span>: <span class="integer">12</span>.seconds
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with regexes:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute when item state is changed to something matching a regex</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Alarm_Mode</span>, <span class="key">to</span>: <span class="regexp"><span class="delimiter">/</span><span class="content">armed</span><span class="delimiter">/</span></span>
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm armed</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with Things:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when thing is changed</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed things[<span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>], <span class="symbol">:from</span> =&gt; <span class="symbol">:online</span>, <span class="symbol">:to</span> =&gt; <span class="symbol">:uninitialized</span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Thing </span><span class="inline"><span class="inline-delimiter">#{</span>event.uid<span class="inline-delimiter">}</span></span><span class="content"> status &lt;trigger&gt; to </span><span class="inline"><span class="inline-delimiter">#{</span>event.status<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Real World Example</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Log (or notify) when an exterior door is left open for more than 5 minutes</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">ExteriorDoors</span>.members, <span class="key">to</span>: <span class="constant">OPEN</span>, <span class="key">for</span>: <span class="integer">5</span>.minutes
  triggered {|door| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>door.name<span class="inline-delimiter">}</span></span><span class="content"> has been left open!</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>items</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span></tt>, <tt>Thing</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Objects to create trigger for.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>from</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>&gt;</tt>, <tt>#===</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Only execute rule if previous state matches <code>from</code> state(s).</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>to</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>&gt;</tt>, <tt>#===</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>State(s) for
Only execute rule if new state matches <code>to</code> state(s).</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>for</span>
      
      
        <span class='type'>(<tt><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/TemporalAmount.html" target="_parent" title="java.time.temporal.TemporalAmount">java.time.temporal.TemporalAmount</a></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Duration item must remain in the same state before executing the execution blocks.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1072</span>

<span class="keyword">def</span> <span class="function">changed</span>(*items, <span class="key">to</span>: <span class="predefined-constant">nil</span>, <span class="key">from</span>: <span class="predefined-constant">nil</span>, <span class="key">for</span>: <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  changed = <span class="constant">Changed</span>.new(<span class="key">rule_triggers</span>: <span class="instance-variable">@rule_triggers</span>)
  <span class="comment"># for is a reserved word in ruby, so use local_variable_get :for</span>
  duration = binding.local_variable_get(<span class="symbol">:for</span>)

  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:changed</span>, items, { <span class="key">to</span>: to, <span class="key">from</span>: from, <span class="key">duration</span>: duration }]

  from = [<span class="predefined-constant">nil</span>] <span class="keyword">if</span> from.nil?
  to = [<span class="predefined-constant">nil</span>] <span class="keyword">if</span> to.nil?
  items.each <span class="keyword">do</span> |item|
    <span class="keyword">case</span> item
    <span class="keyword">when</span> <span class="constant">Core</span>::<span class="constant">Things</span>::<span class="constant">Thing</span>,
         <span class="constant">Core</span>::<span class="constant">Things</span>::<span class="constant">ThingUID</span>,
         <span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">Item</span>,
         <span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">GroupItem</span>::<span class="constant">Members</span>
      <span class="predefined-constant">nil</span>
    <span class="keyword">else</span>
      raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">items must be an Item, GroupItem::Members, Thing, or ThingUID</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>

    logger.trace { <span class="string"><span class="delimiter">&quot;</span><span class="content">Creating changed trigger for entity(</span><span class="inline"><span class="inline-delimiter">#{</span>item<span class="inline-delimiter">}</span></span><span class="content">), to(</span><span class="inline"><span class="inline-delimiter">#{</span>to.inspect<span class="inline-delimiter">}</span></span><span class="content">), from(</span><span class="inline"><span class="inline-delimiter">#{</span>from.inspect<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span> }

    <span class="constant">Array</span>.wrap(from).each <span class="keyword">do</span> |from_state|
      <span class="constant">Array</span>.wrap(to).each <span class="keyword">do</span> |to_state|
        changed.trigger(<span class="key">item</span>: item, <span class="key">from</span>: from_state, <span class="key">to</span>: to_state, <span class="key">duration</span>: duration, <span class="key">attach</span>: attach)
      <span class="keyword">end</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="channel-instance_method">
  
    #<strong>channel</strong>(*channels, thing: nil, triggered: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a channel trigger</p>
<p>The channel trigger executes rule when a specific channel is triggered. The syntax
supports one or more channels with one or more triggers. <code>thing</code> is an optional
parameter that makes it easier to set triggers on multiple channels on the same thing.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when channel is triggered</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home:rise#event</span><span class="delimiter">&quot;</span></span>
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span>
<span class="comment"># The above is the same as each of the below</span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when channel is triggered</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">rise#event</span><span class="delimiter">&quot;</span></span>, <span class="key">thing</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when channel is triggered</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">rise#event</span><span class="delimiter">&quot;</span></span>, <span class="key">thing</span>: things[<span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>]
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when channel is triggered</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">rise#event</span><span class="delimiter">&quot;</span></span>, <span class="key">thing</span>: things[<span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>].uid
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when channel is triggered</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">rise#event</span><span class="delimiter">&quot;</span></span>, <span class="key">thing</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>]
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when channel is triggered</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel things[<span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>].channels[<span class="string"><span class="delimiter">&quot;</span><span class="content">rise#event</span><span class="delimiter">&quot;</span></span>]
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute rule when channel is triggered</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel things[<span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>].channels[<span class="string"><span class="delimiter">&quot;</span><span class="content">rise#event</span><span class="delimiter">&quot;</span></span>].uid
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Rule provides access to channel trigger events in run block</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home:rise#event</span><span class="delimiter">&quot;</span></span>, <span class="key">triggered</span>: <span class="string"><span class="delimiter">'</span><span class="content">START</span><span class="delimiter">'</span></span>
  run { |trigger| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel(</span><span class="inline"><span class="inline-delimiter">#{</span>trigger.channel<span class="inline-delimiter">}</span></span><span class="content">) triggered event: </span><span class="inline"><span class="inline-delimiter">#{</span>trigger.event<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Keypad Code Received test</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">mqtt:homie300:mosquitto:backgate:keypad#code</span><span class="delimiter">&quot;</span></span>
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Received keycode from </span><span class="inline"><span class="inline-delimiter">#{</span>event.channel.thing.uid.id<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Rules support multiple channels</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">rise#event</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">set#event</span><span class="delimiter">&quot;</span></span>, <span class="key">thing</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Rules support multiple channels and triggers</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">rise#event</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">set#event</span><span class="delimiter">&quot;</span></span>, <span class="key">thing</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">astro:sun:home</span><span class="delimiter">&quot;</span></span>, <span class="key">triggered</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">START</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">STOP</span><span class="delimiter">&quot;</span></span>]
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Rules support multiple things</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel <span class="string"><span class="delimiter">&quot;</span><span class="content">keypad#code</span><span class="delimiter">&quot;</span></span>, <span class="key">thing</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">mqtt:homie300:keypad1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">mqtt:homie300:keypad2</span><span class="delimiter">&quot;</span></span>]
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Channel triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>channels</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../Core/Things/Channel.html" title="OpenHAB::Core::Things::Channel (class)">Core::Things::Channel</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Things/ChannelUID.html" title="OpenHAB::Core::Things::ChannelUID (class)">Core::Things::ChannelUID</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>channels to create triggers for in form of 'binding_id:type_id:thing_id#channel_id'
or 'channel_id' if thing is provided.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>thing</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Core::Things::Thing</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Things/ThingUID.html" title="OpenHAB::Core::Things::ThingUID (class)">Core::Things::ThingUID</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Thing(s) to create trigger for if not specified with the channel.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>triggered</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Only execute rule if the event on the channel matches this/these event/events.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


929
930
931
932
933
934
935
936
937
938
939</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 929</span>

<span class="keyword">def</span> <span class="function">channel</span>(*channels, <span class="key">thing</span>: <span class="predefined-constant">nil</span>, <span class="key">triggered</span>: <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  channel_trigger = <span class="constant">Channel</span>.new(<span class="key">rule_triggers</span>: <span class="instance-variable">@rule_triggers</span>)
  flattened_channels = <span class="constant">Channel</span>.channels(<span class="key">channels</span>: channels, <span class="key">thing</span>: thing)
  triggers = [triggered].flatten
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:channel</span>, flattened_channels, { <span class="key">triggers</span>: triggers }]
  flattened_channels.each <span class="keyword">do</span> |channel|
    triggers.each <span class="keyword">do</span> |trigger|
      channel_trigger.trigger(<span class="key">channel</span>: channel, <span class="key">trigger</span>: trigger, <span class="key">attach</span>: attach)
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="channel_linked-instance_method">
  
    #<strong>channel_linked</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a channel linked trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">channel linked</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel_linked
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.link.item.name<span class="inline-delimiter">}</span></span><span class="content"> linked to </span><span class="inline"><span class="inline-delimiter">#{</span>event.link.channel_uid<span class="inline-delimiter">}</span></span><span class="content">.</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


954
955
956
957</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 954</span>

<span class="keyword">def</span> <span class="function">channel_linked</span>(<span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:channel_linked</span>]
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/links/*/added</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ItemChannelLinkAddedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="channel_unlinked-instance_method">
  
    #<strong>channel_unlinked</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a channel unlinked trigger</p>
<p>Note that the item or the thing it's linked to may no longer exist,
so if you try to access those objects they'll be nil.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">channel unlinked</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  channel_unlinked
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.link.item_name<span class="inline-delimiter">}</span></span><span class="content"> unlinked from </span><span class="inline"><span class="inline-delimiter">#{</span>event.link.channel_uid<span class="inline-delimiter">}</span></span><span class="content">.</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


975
976
977
978</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 975</span>

<span class="keyword">def</span> <span class="function">channel_unlinked</span>(<span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:channel_linked</span>]
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/links/*/removed</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ItemChannelLinkRemovedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cron-instance_method">
  
    
      <span class="overload">#<strong>cron</strong>(expression, attach: nil)  &#x21d2; <tt>void</tt> </span>
    
      <span class="overload">#<strong>cron</strong>(second: nil, minute: nil, hour: nil, dom: nil, month: nil, dow: nil, year: nil, attach: nil)  &#x21d2; <tt>void</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a cron trigger</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>cron</strong>(expression, attach: nil)  &#x21d2; <tt>void</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Using a cron expression</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">cron expression</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  cron <span class="string"><span class="delimiter">&quot;</span><span class="content">43 46 13 ? * ?</span><span class="delimiter">&quot;</span></span>
  run { <span class="constant">Light</span>.on }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>expression</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><a href="https://www.openhab.org/docs/configuration/rules-dsl.html#time-based-triggers">openHAB style cron expression</a></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>cron</strong>(second: nil, minute: nil, hour: nil, dom: nil, month: nil, dow: nil, year: nil, attach: nil)  &#x21d2; <tt>void</tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>The trigger can be created by specifying each field as keyword arguments.</p>
<p>When certain fields were omitted:</p>
<ul>
<li>The more specific fields will default to <code>0</code> for <code>hour</code>, <code>minute</code>, and <code>second</code>,
to <code>MON</code> for <code>dow</code>, and to <code>1</code> for <code>dom</code> and <code>month</code>.</li>
<li>The less specific fields will default to <code>*</code> or <code>?</code> as appropriate.</li>
</ul>
<p>Each field is optional, but at least one must be specified.</p>
<p>The same rules for the standard
<a href="https://www.quartz-scheduler.org/documentation/quartz-2.2.2/tutorials/tutorial-lesson-06.html">cron expression</a>
apply for each field. For example, multiple values can be separated
with a comma within a string, and ranges can be specified with a dash or with
a Ruby Range.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Using String values</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># Run every 3 minutes on Monday to Friday</span>
<span class="comment"># equivalent to the cron expression &quot;0 */3 * ? * MON-FRI *&quot;</span>
rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Using cron fields</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  cron <span class="key">minute</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">*/3</span><span class="delimiter">&quot;</span></span>, <span class="key">dow</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">MON-FRI</span><span class="delimiter">&quot;</span></span>
  run { logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">Cron rule executed</span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Defaults for unspecified fields</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># Run at midnight on the first day of January, February, and March</span>
<span class="comment"># equivalent to the cron expression &quot;0 0 0 1 JAN-MAR ? *&quot;</span>
rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Using cron fields</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  cron <span class="key">month</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">JAN-MAR</span><span class="delimiter">&quot;</span></span>
  run { logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">Cron rule executed</span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Using Ruby Range values</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># Run on the hour, every hour between 1pm and 5pm</span>
<span class="comment"># equivalent to the cron expression &quot;0 0 13-17 ? * ? *&quot;</span>
rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Using cron fields</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  cron <span class="key">hour</span>: <span class="integer">13</span>..<span class="integer">17</span>
  run { logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">Cron rule executed</span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>second</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>minute</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>hour</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>dom</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>month</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>dow</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>year</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
  </ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1166
1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177
1178</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1166</span>

<span class="keyword">def</span> <span class="function">cron</span>(expression = <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>, **fields)
  <span class="keyword">if</span> fields.any?
    raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cron elements cannot be used with a cron expression</span><span class="delimiter">&quot;</span></span> <span class="keyword">if</span> expression

    cron_expression = <span class="constant">Cron</span>.from_fields(fields)
    <span class="keyword">return</span> cron(cron_expression, <span class="key">attach</span>: attach)
  <span class="keyword">end</span>

  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Missing cron expression or elements</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> expression

  cron = <span class="constant">Cron</span>.new(<span class="key">rule_triggers</span>: <span class="instance-variable">@rule_triggers</span>)
  cron.trigger(<span class="key">config</span>: { <span class="string"><span class="delimiter">&quot;</span><span class="content">cronExpression</span><span class="delimiter">&quot;</span></span> =&gt; expression }, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="debounce_for-instance_method">
  
    #<strong>debounce_for</strong>(debounce_time)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Waits until triggers have stopped firing for a period of time before executing the rule.</p>
<p>It ignores triggers that are "bouncing around" (rapidly firing) by ignoring
them until they have quiesced (stopped triggering for a while).</p>
<h2 id="comparison-table"><a href="#comparison-table" class="header-anchor">#</a>Comparison Table</h2>
<table>
<thead>
<tr>
<th>Guard</th>
<th>Triggers Immediately</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class='object_link'><a href="#debounce_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#debounce_for (method)">#debounce_for</a></span></td>
<td>No</td>
<td>Waits until there is a minimum interval between triggers.</td>
</tr>
<tr>
<td><span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span></td>
<td>No</td>
<td>Rate-limits the executions to a minimum interval, regardless of the interval between triggers. Waits until the end of the period before executing, ignores any leading triggers.</td>
</tr>
<tr>
<td><span class='object_link'><a href="#only_every-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_every (method)">#only_every</a></span></td>
<td>Yes</td>
<td>Rate-limits the executions to a minimum interval. Immediately executes the first trigger, then ignores subsequent triggers for the period.</td>
</tr>
</tbody>
</table>
<h2 id="timing-diagram"><a href="#timing-diagram" class="header-anchor">#</a>Timing Diagram</h2>
<p>The following timing diagram illustrates the difference between <span class='object_link'><a href="#debounce_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#debounce_for (method)">#debounce_for</a></span>,
<span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span>, and <span class='object_link'><a href="#only_every-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_every (method)">#only_every</a></span> guards:</p>
<pre class="code ruby"><code class="ruby"><span class="constant">TIME</span> <span class="constant">INDEX</span> ===&gt;                <span class="integer">1</span>    <span class="integer">1</span>    <span class="integer">2</span>    <span class="integer">2</span>    <span class="integer">3</span>    <span class="integer">3</span>    <span class="integer">4</span>    <span class="integer">4</span>
                     <span class="integer">0</span>    <span class="integer">5</span>    <span class="integer">0</span>    <span class="integer">5</span>    <span class="integer">0</span>    <span class="integer">5</span>    <span class="integer">0</span>    <span class="integer">5</span>    <span class="integer">0</span>    <span class="integer">5</span>
<span class="constant">Triggers</span>          : <span class="string"><span class="delimiter">&quot;</span><span class="content">X.X...X...X..XX.X.X....X.XXXXXXXXXXX....X.....</span><span class="delimiter">&quot;</span></span>
debounce_for <span class="integer">5</span>    : <span class="string"><span class="delimiter">&quot;</span><span class="content">|......................X.|..............X.....</span><span class="delimiter">&quot;</span></span>
debounce_for <span class="integer">5</span>..<span class="integer">5</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">|....X|....X.|....X....|....X|....X|....X....X</span><span class="delimiter">&quot;</span></span>
debounce_for <span class="integer">5</span>..<span class="integer">6</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">|.....X...|.....X.|....X.|.....X|.....X.|....X</span><span class="delimiter">&quot;</span></span>
debounce_for <span class="integer">5</span>..<span class="integer">7</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">|......X..|......X|....X.|......X|......X.....</span><span class="delimiter">&quot;</span></span>
debounce_for <span class="integer">5</span>..<span class="integer">8</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">|.......X.|.......X....|.......X|.......X.....</span><span class="delimiter">&quot;</span></span>
debounce_for <span class="integer">5</span>..<span class="integer">20</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">|...................X..|................X.....</span><span class="delimiter">&quot;</span></span>
<span class="comment"># throttle_for will fire every 5 intervals after the &quot;first&quot; trigger</span>
throttle_for <span class="integer">5</span>    : <span class="string"><span class="delimiter">&quot;</span><span class="content">|....X|....X.|....X....|....X|....X|....X.....</span><span class="delimiter">&quot;</span></span>
only_every <span class="integer">5</span>      : <span class="string"><span class="delimiter">&quot;</span><span class="content">X.....X......X....X....X....X....X......X.....</span><span class="delimiter">&quot;</span></span>

<span class="constant">Triggers</span>          : <span class="string"><span class="delimiter">&quot;</span><span class="content">X.X...X...X..XX.X.X..X...XXXXXXXXXXX.X..X.X...</span><span class="delimiter">&quot;</span></span>
debounce_for <span class="integer">5</span>..<span class="integer">44</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">|...........................................X.</span><span class="delimiter">&quot;</span></span>

<span class="comment"># Notice above, triggers keep firing with intervals less than 5, so</span>
<span class="comment"># debouncer keeps waiting, but puts a stop at 44 (the end of range).</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Wait until item stopped changing for at least 1 minute before running the rule</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="keyword">do</span>
  changed <span class="constant">Item1</span>
  debounce_for <span class="integer">1</span>.minute
  run { ... }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Alert when door is open for a while</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># Note: When combined with a state check (only_if), this becomes functionally</span>
<span class="comment"># equivalent to the changed duration feature.</span>
rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Door alert</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Door_State</span>
  debounce_for <span class="integer">10</span>.minutes
  only_if { <span class="constant">Door_State</span>.open? }
  run { notify(<span class="string"><span class="delimiter">&quot;</span><span class="content">The Door has been open for 10 minutes!</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>debounce_time</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>, <tt><span class='object_link'><a href="../../../Range.html" title="Range (class)">Range</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The minimum interval between two consecutive
triggers before the rules are allowed to run.</p>
<p>When specified just as a Duration or an endless range, it sets the minimum interval
between two consecutive triggers before rules are executed. It will
wait endlessly unless this condition is met or an end of range was specified.</p>
<p>When the end of the range is specified, it sets the maximum amount of time to wait
from the first trigger before the rule will execute, even when triggers continue
to occur more frequently than the minimum interval.</p>
<p>When an equal beginning and ending values are given, it will behave just like
<span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span>.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span></li>
    
      <li><span class='object_link'><a href="#only_every-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_every (method)">#only_every</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


699
700
701
702</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 699</span>

<span class="keyword">def</span> <span class="function">debounce_for</span>(debounce_time)
  idle_time = debounce_time.is_a?(<span class="constant">Range</span>) ? debounce_time.begin : debounce_time
  debounce(<span class="key">for</span>: debounce_time, <span class="key">idle_time</span>: idle_time)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delay-instance_method">
  
    #<strong>delay</strong>(duration)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Add a wait between or after run blocks.</p>
<p>The delay property is a non thread-blocking element that is executed
after, before, or between run blocks.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">delay execution</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">MotionSensor</span>, <span class="key">to</span>: <span class="constant">CLOSED</span>
  delay <span class="integer">5</span>.seconds
  run { <span class="constant">Light</span>.off }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Delay sleeps between execution elements</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Sleeping</span><span class="delimiter">&quot;</span></span>) }
  delay <span class="integer">5</span>.seconds
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Awake</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Like other execution blocks, multiple can exist in a single rule.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Multiple delays can exist in a rule</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Sleeping</span><span class="delimiter">&quot;</span></span>) }
  delay <span class="integer">5</span>.seconds
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Sleeping Again</span><span class="delimiter">&quot;</span></span>) }
  delay <span class="integer">5</span>.seconds
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Awake</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>You can use Ruby code in your rule across multiple execution blocks like a run and a delay.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Dim a switch on system startup over 100 seconds</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  <span class="integer">100</span>.times <span class="keyword">do</span>
    run { <span class="constant">DimmerSwitch</span>.dim }
    delay <span class="integer">1</span>.second
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>duration</span>
      
      
        <span class='type'>(<tt><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/TemporalAmount.html" target="_parent" title="java.time.temporal.TemporalAmount">java.time.temporal.TemporalAmount</a></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>How long to delay for.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 367</span>

prop_array <span class="symbol">:delay</span>, <span class="key">array_name</span>: <span class="symbol">:run_queue</span>, <span class="key">wrapper</span>: <span class="constant">Delay</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dependencies-instance_method">
  
    #<strong>dependencies</strong>(trigger_types = %i[changed updated])  &#x21d2; <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span>, <span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns all <span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Items</a></span> (or <span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span>) referenced
by the specified trigger types in this rule.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Ensure all dependencies have a state when executing a rule</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="keyword">do</span> |rule|
  changed <span class="constant">Item1</span>, <span class="constant">Item2</span>, <span class="constant">Item3</span>
  only_if { rule.dependencies.all?(&amp;<span class="symbol">:state?</span>) }
  run { <span class="constant">FormulaItem</span>.update(<span class="constant">Item3</span>.state - (<span class="constant">Item1</span>.state + <span class="constant">Item2</span>.state)) }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>trigger_types</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span>&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>%i[changed updated]</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Trigger types to search for dependencies</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span>, <span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


469
470
471
472
473
474
475
476
477</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 469</span>

<span class="keyword">def</span> <span class="function">dependencies</span>(trigger_types = <span class="symbol"><span class="delimiter">%i[</span><span class="content">changed updated</span><span class="delimiter">]</span></span>)
  trigger_types = <span class="constant">Array</span>.wrap(trigger_types)

  ruby_triggers.flat_map <span class="keyword">do</span> |t|
    <span class="keyword">next</span> [] <span class="keyword">unless</span> trigger_types.include?(t.first)

    t[<span class="integer">1</span>].select { |i| i.is_a?(<span class="constant">Item</span>) || i.is_a?(<span class="constant">GroupItem</span>::<span class="constant">Members</span>) }
  <span class="keyword">end</span>.uniq
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="description-instance_method">
  
    #<strong>description</strong>(value)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set the rule's description.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


423</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 423</span>

prop <span class="symbol">:description</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enabled-instance_method">
  
    #<strong>enabled</strong>(value)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Enable or disable the rule from executing</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">disabled rule</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  enabled(<span class="predefined-constant">false</span>)
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


453</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 453</span>

prop <span class="symbol">:enabled</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="event-instance_method">
  
    #<strong>event</strong>(topic, source: nil, types: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger on events coming through the event bus</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">thing updated</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/things/*/updated</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ThingUpdatedEvent</span><span class="delimiter">&quot;</span></span>)
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.thing.uid<span class="inline-delimiter">}</span></span><span class="content"> updated</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>topic</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The topic to trigger on; can contain the wildcard <code>*</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The sender of the event to trigger on.
Default does not filter on source.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>types</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Only subscribe to certain event types.
Default does not filter on event types.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1618</span>

<span class="keyword">def</span> <span class="function">event</span>(topic, <span class="key">source</span>: <span class="predefined-constant">nil</span>, <span class="key">types</span>: <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  types = types.join(<span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>) <span class="keyword">if</span> types.is_a?(<span class="constant">Enumerable</span>)
  <span class="comment"># @deprecated OH3.4 - OH3 config uses eventXXX vs OH4 uses `topic`, `source`, and `types`</span>
  <span class="comment"># See https://github.com/openhab/openhab-core/pull/3299</span>
  trigger(<span class="string"><span class="delimiter">&quot;</span><span class="content">core.GenericEventTrigger</span><span class="delimiter">&quot;</span></span>,
          <span class="key">eventTopic</span>: topic,
          <span class="key">eventSource</span>: source,
          <span class="key">eventTypes</span>: types, <span class="comment"># @deprecated OH3.4</span>
          <span class="key">topic</span>: topic,
          <span class="key">source</span>: source,
          <span class="key">types</span>: types,
          <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every-instance_method">
  
    #<strong>every</strong>(value, at: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a rule that executes at the specified interval.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Daily</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  every <span class="symbol">:day</span>, <span class="key">at</span>: <span class="string"><span class="delimiter">'</span><span class="content">5:15</span><span class="delimiter">'</span></span>
  run <span class="keyword">do</span>
    <span class="constant">Light</span>.on
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>The above rule could also be expressed using LocalTime class as below</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Daily</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  every <span class="symbol">:day</span>, <span class="key">at</span>: <span class="constant">LocalTime</span>.of(<span class="integer">5</span>, <span class="integer">15</span>)
  run { <span class="constant">Light</span>.on }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Weekly</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  every <span class="symbol">:monday</span>, <span class="key">at</span>: <span class="string"><span class="delimiter">'</span><span class="content">5:15</span><span class="delimiter">'</span></span>
  run <span class="keyword">do</span>
    <span class="constant">Light</span>.on
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Often</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  every <span class="symbol">:minute</span>
  run <span class="keyword">do</span>
    <span class="constant">Light</span>.on
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Hourly</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  every <span class="symbol">:hour</span>
  run <span class="keyword">do</span>
    <span class="constant">Light</span>.on
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Often</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  every <span class="integer">5</span>.minutes
  run <span class="keyword">do</span>
    <span class="constant">Light</span>.on
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Every 14th of Feb at 2pm</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  every <span class="string"><span class="delimiter">'</span><span class="content">02-14</span><span class="delimiter">'</span></span>, <span class="key">at</span>: <span class="string"><span class="delimiter">'</span><span class="content">2pm</span><span class="delimiter">'</span></span>
  run { logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">Happy Valentine's Day!</span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Every day at sunset</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  every <span class="symbol">:day</span>, <span class="key">at</span>: <span class="constant">Sunset_Time</span>
  run { logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">It's getting dark</span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>, <tt><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/MonthDay.html" target="_parent" title="java.time.MonthDay">java.time.MonthDay</a></tt>, <tt>:second</tt>, <tt>:minute</tt>, <tt>:hour</tt>, <tt>:day</tt>, <tt>:week</tt>, <tt>:month</tt>, <tt>:year</tt>, <tt>:monday</tt>, <tt>:tuesday</tt>, <tt>:wednesday</tt>, <tt>:thursday</tt>, <tt>:friday</tt>, <tt>:saturday</tt>, <tt>:sunday</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When to execute rule.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>at</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span></tt>, <tt>String</tt>, <tt><span class='object_link'><a href="../../Core/Items/DateTimeItem.html" title="OpenHAB::Core::Items::DateTimeItem (class)">Core::Items::DateTimeItem</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>What time of day to execute rule
If <code>value</code> is <code>:day</code>, <code>at</code> can be a <span class='object_link'><a href="../../Core/Items/DateTimeItem.html" title="OpenHAB::Core::Items::DateTimeItem (class)">DateTimeItem</a></span>, and
the trigger will run every day at the (time only portion of) current state of the
item. If the item is <span class='object_link'><a href="../../Core/Types/UnDefType.html#NULL-constant" title="OpenHAB::Core::Types::UnDefType::NULL (constant)">NULL</a></span> or <span class='object_link'><a href="../../Core/Types/UnDefType.html#UNDEF-constant" title="OpenHAB::Core::Types::UnDefType::UNDEF (constant)">UNDEF</a></span>, the trigger will not run.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281
1282
1283
1284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1266</span>

<span class="keyword">def</span> <span class="function">every</span>(value, <span class="key">at</span>: <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="keyword">return</span> every(java.time.MonthDay.parse(value), <span class="key">at</span>: at, <span class="key">attach</span>: attach) <span class="keyword">if</span> value.is_a?(<span class="constant">String</span>)

  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:every</span>, value, { <span class="key">at</span>: at }]

  <span class="keyword">if</span> value == <span class="symbol">:day</span> &amp;&amp; at.is_a?(<span class="constant">Item</span>)
    raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Attachments are not supported with dynamic datetime triggers</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> attach.nil?

    <span class="keyword">return</span> trigger(<span class="string"><span class="delimiter">&quot;</span><span class="content">timer.DateTimeTrigger</span><span class="delimiter">&quot;</span></span>, <span class="key">itemName</span>: at.name, <span class="key">timeOnly</span>: <span class="predefined-constant">true</span>)
  <span class="keyword">end</span>

  cron_expression = <span class="keyword">case</span> value
                    <span class="keyword">when</span> <span class="constant">Symbol</span> <span class="keyword">then</span> <span class="constant">Cron</span>.from_symbol(value, at)
                    <span class="keyword">when</span> <span class="constant">Duration</span> <span class="keyword">then</span> <span class="constant">Cron</span>.from_duration(value, at)
                    <span class="keyword">when</span> java.time.MonthDay <span class="keyword">then</span> <span class="constant">Cron</span>.from_monthday(value, at)
                    <span class="keyword">else</span> raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Unknown interval</span><span class="delimiter">&quot;</span></span>
                    <span class="keyword">end</span>
  cron(cron_expression, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1949
1950
1951
1952
1953
1954
1955
1956
1957
1958
1959
1960</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1949</span>

<span class="keyword">def</span> <span class="function">inspect</span>
  <span class="string"><span class="delimiter">&lt;&lt;~TEXT</span></span>.tr(<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>)<span class="string"><span class="content">
    #&lt;OpenHAB::DSL::Rules::Builder: </span><span class="inline"><span class="inline-delimiter">#{</span>uid<span class="inline-delimiter">}</span></span><span class="content">
    triggers=</span><span class="inline"><span class="inline-delimiter">#{</span>triggers.inspect<span class="inline-delimiter">}</span></span><span class="content">,
    run blocks=</span><span class="inline"><span class="inline-delimiter">#{</span>run.inspect<span class="inline-delimiter">}</span></span><span class="content">,
    on_load=</span><span class="inline"><span class="inline-delimiter">#{</span>!<span class="instance-variable">@on_load</span>.nil?<span class="inline-delimiter">}</span></span><span class="content">,
    Trigger Conditions=</span><span class="inline"><span class="inline-delimiter">#{</span>trigger_conditions.inspect<span class="inline-delimiter">}</span></span><span class="content">,
    Trigger UIDs=</span><span class="inline"><span class="inline-delimiter">#{</span>triggers.map(&amp;<span class="symbol">:id</span>).inspect<span class="inline-delimiter">}</span></span><span class="content">,
    Attachments=</span><span class="inline"><span class="inline-delimiter">#{</span>attachments.inspect<span class="inline-delimiter">}</span></span><span class="content">
    &gt;</span><span class="delimiter">
  TEXT</span></span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="item_added-instance_method">
  
    #<strong>item_added</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates an item added trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">item added</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  item_added
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="content"> added.</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1503
1504
1505
1506</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1503</span>

<span class="keyword">def</span> <span class="function">item_added</span>(<span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:item_added</span>]
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/items/*/added</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ItemAddedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="item_removed-instance_method">
  
    #<strong>item_removed</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates an item removed trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">item removed</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  item_removed
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="content"> removed.</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1521
1522
1523
1524</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1521</span>

<span class="keyword">def</span> <span class="function">item_removed</span>(<span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:item_removed</span>]
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/items/*/removed</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ItemRemovedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="item_updated-instance_method">
  
    #<strong>item_updated</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates an item updated trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">item updated</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  item_updated
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="content"> updated.</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1540
1541
1542
1543</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1540</span>

<span class="keyword">def</span> <span class="function">item_updated</span>(<span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:item_updated</span>]
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/items/*/updated</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ItemUpdatedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>(value)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set the rule's name.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 413</span>

prop <span class="symbol">:name</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="not_if-instance_method">
  
    #<strong>not_if</strong> {|event| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Prevents execution of rules when the block's result is true and allows it when it's true.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Set OutsideDimmer to 50% if LightSwtich turned on and OtherSwitch is OFF</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">LightSwitch</span>, <span class="key">to</span>: <span class="constant">ON</span>
  run { <span class="constant">OutsideDimmer</span> &lt;&lt; <span class="integer">50</span> }
  not_if { <span class="constant">OtherSwitch</span>.on? }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Multiple <span class='object_link'><a href="#not_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#not_if (method)">#not_if</a></span> statements can be used and if <strong>any</strong> of them are not satisfied the rule will not run.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Set OutsideDimmer to 50% if LightSwitch turned on and OtherSwitch is OFF and Door is not CLOSED</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">LightSwitch</span>, <span class="key">to</span>: <span class="constant">ON</span>
  run { <span class="constant">OutsideDimmer</span> &lt;&lt; <span class="integer">50</span> }
  not_if { <span class="constant">OtherSwitch</span>.on? }
  not_if { <span class="constant">Door</span>.closed? }
<span class="keyword">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">Core::Events::AbstractEvent</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The event data that is about to trigger the rule.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A value indicating if the rule should <em>not</em> run.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


619
620
621</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 619</span>

prop_array(<span class="symbol">:not_if</span>) <span class="keyword">do</span> |item|
  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Object passed to not_if must be a proc</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> item.is_a?(<span class="constant">Proc</span>)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_load-instance_method">
  
    #<strong>on_load</strong>(delay: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger that executes when the script is loaded</p>
<p>Execute the rule whenever the script is first loaded, including on openHAB start up,
and on subsequent reloads on file modifications.
This is useful to perform initialization routines, especially when combined with other triggers.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">script startup rule</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  on_load
  run <span class="keyword">do</span>
    &lt;calculate some item state&gt;
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Ensure all security lights are on</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  on_load
  run { <span class="constant">Security_Lights</span>.on }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>delay</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The amount of time to wait before executing the rule.
When nil, execute immediately.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1312
1313
1314
1315
1316
1317
1318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1312</span>

<span class="keyword">def</span> <span class="function">on_load</span>(<span class="key">delay</span>: <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="comment"># prevent overwriting @on_load</span>
  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">on_load can only be used once within a rule</span><span class="delimiter">&quot;</span></span> <span class="keyword">if</span> <span class="instance-variable">@on_load</span>

  <span class="instance-variable">@on_load</span> = { <span class="key">module</span>: <span class="constant">SecureRandom</span>.uuid, <span class="key">delay</span>: delay }
  attachments[<span class="instance-variable">@on_load</span>[<span class="symbol">:module</span>]] = attach
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_start-instance_method">
  
    #<strong>on_start</strong>(at_level: nil, at_levels: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger that executes when openHAB reaches a certain start level</p>
<p>This will only trigger once during openHAB start up. It won't trigger on script reloads.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Trigger at openHAB system start</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  on_start <span class="comment"># trigger at the default startlevel 100</span>
  run { logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">openHAB start up complete.</span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Trigger at a specific start level</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Trigger after things are loaded</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  on_start <span class="key">at_level</span>: <span class="symbol">:things</span>
  run { logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">Things are ready!</span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Trigger at multiple levels</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Multiple start up triggers</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  on_start <span class="key">at_levels</span>: <span class="symbol"><span class="delimiter">%i[</span><span class="content">ui things complete</span><span class="delimiter">]</span></span>
  run <span class="keyword">do</span> |event|
    logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">openHAB startlevel has reached level </span><span class="inline"><span class="inline-delimiter">#{</span>event.startlevel<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>at_level</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>:rules</tt>, <tt>:ruleengine</tt>, <tt>:ui</tt>, <tt>:things</tt>, <tt>:complete</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Zero or more start levels. Note that Startlevels less than 40 are not available as triggers
because the rule engine needs to start up first before it can execute any rules</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Start Level</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:osgi</code></td>
<td>10</td>
</tr>
<tr>
<td><code>:model</code></td>
<td>20</td>
</tr>
<tr>
<td><code>:state</code></td>
<td>30</td>
</tr>
<tr>
<td><code>:rules</code></td>
<td>40</td>
</tr>
<tr>
<td><code>:ruleengine</code></td>
<td>50</td>
</tr>
<tr>
<td><code>:ui</code></td>
<td>70</td>
</tr>
<tr>
<td><code>:things</code></td>
<td>80</td>
</tr>
<tr>
<td><code>:complete</code></td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>at_levels</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../../Integer.html" title="Integer (class)">Integer</a></span>,:rules,:ruleengine,:ui,:things,:complete&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Fluent alias for <code>at_level</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://www.openhab.org/docs/configuration/rules-dsl.html#system-based-triggers" target="_parent" title="System based triggers">System based triggers</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1365
1366
1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1365</span>

<span class="keyword">def</span> <span class="function">on_start</span>(<span class="key">at_level</span>: <span class="predefined-constant">nil</span>, <span class="key">at_levels</span>: <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  levels = <span class="constant">Array</span>.wrap(at_level) | <span class="constant">Array</span>.wrap(at_levels)
  levels = [<span class="integer">100</span>] <span class="keyword">if</span> levels.empty?

  levels.map! <span class="keyword">do</span> |level|
    <span class="keyword">next</span> level <span class="keyword">unless</span> level.is_a?(<span class="constant">Symbol</span>)

    <span class="keyword">begin</span>
      klass = org.openhab.core.service.StartLevelService.java_class
      klass.declared_field(<span class="string"><span class="delimiter">&quot;</span><span class="content">STARTLEVEL_</span><span class="inline"><span class="inline-delimiter">#{</span>level.upcase<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>).get_int(klass)
    <span class="keyword">rescue</span> java.lang.NoSuchFieldException
      raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Invalid symbol for at_level: :</span><span class="inline"><span class="inline-delimiter">#{</span>level<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:on_start</span>, levels]
  levels.each <span class="keyword">do</span> |level|
    logger.warn <span class="string"><span class="delimiter">&quot;</span><span class="content">Rule engine doesn't start until start level 40</span><span class="delimiter">&quot;</span></span> <span class="keyword">if</span> level &lt; <span class="integer">40</span>
    config = { <span class="key">startlevel</span>: level }
    logger.trace { <span class="string"><span class="delimiter">&quot;</span><span class="content">Creating a SystemStartlevelTrigger with startlevel=</span><span class="inline"><span class="inline-delimiter">#{</span>level<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> }
    <span class="constant">Triggers</span>::<span class="constant">Trigger</span>.new(<span class="key">rule_triggers</span>: <span class="instance-variable">@rule_triggers</span>)
                     .append_trigger(<span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">core.SystemStartlevelTrigger</span><span class="delimiter">&quot;</span></span>, <span class="key">config</span>: config, <span class="key">attach</span>: attach)
  <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="only_every-instance_method">
  
    #<strong>only_every</strong>(interval)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Executes the rule then ignores subsequent triggers for a given duration.</p>
<p>Additional triggers that occur within the given duration after the rule execution
will be ignored. This results in executions happening only at the specified interval or
more.</p>
<p>Unlike <span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span>, this guard will execute the rule as soon as a new trigger
occurs instead of waiting for the specified duration. This is ideal for triggers
such as a door bell where the rule should run as soon as a new trigger is detected
but ignore subsequent triggers if they occur too soon after.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Only allow executions every 10 minutes or more</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Aircon Vent Control</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">BedRoom_Temperature</span>
  only_every <span class="integer">10</span>.minutes
  run <span class="keyword">do</span>
    <span class="comment"># Adjust BedRoom_Aircon_Vent</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Run only on the first update and ignore subsequent triggers for the next minute</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># They can keep pressing the door bell as often as they like,</span>
<span class="comment"># but the bell will only ring at most once every minute</span>
rule <span class="keyword">do</span>
  updated <span class="constant">DoorBell_Button</span>, <span class="key">to</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">single</span><span class="delimiter">&quot;</span></span>
  only_every <span class="integer">1</span>.minute
  run { <span class="constant">Audio</span>.play_stream <span class="string"><span class="delimiter">&quot;</span><span class="content">doorbell.mp3</span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Using symbolic duration</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Display update</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  updated <span class="constant">Power_Usage</span>
  only_every <span class="symbol">:minute</span>
  run { <span class="constant">Power_Usage_Display</span>.update <span class="string"><span class="delimiter">&quot;</span><span class="content">Current power usage: </span><span class="inline"><span class="inline-delimiter">#{</span><span class="constant">Power_Usage</span>.average_since(<span class="integer">1</span>.minute.ago)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>interval</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>, <tt>:second</tt>, <tt>:minute</tt>, <tt>:hour</tt>, <tt>:day</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The period during which
subsequent triggers are ignored.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#debounce_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#debounce_for (method)">#debounce_for</a></span></li>
    
      <li><span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


798
799
800
801</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 798</span>

<span class="keyword">def</span> <span class="function">only_every</span>(interval)
  interval = <span class="integer">1</span>.send(interval) <span class="keyword">if</span> <span class="symbol"><span class="delimiter">%i[</span><span class="content">second minute hour day</span><span class="delimiter">]</span></span>.include?(interval)
  debounce(<span class="key">for</span>: interval, <span class="key">leading</span>: <span class="predefined-constant">true</span>)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="only_if-instance_method">
  
    #<strong>only_if</strong> {|event| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Allows rule execution when the block's result is true and prevents it when it's false.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Set OutsideDimmer to 50% if LightSwitch turned on and OtherSwitch is also ON</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">LightSwitch</span>, <span class="key">to</span>: <span class="constant">ON</span>
  run { <span class="constant">OutsideDimmer</span> &lt;&lt; <span class="integer">50</span> }
  only_if { <span class="constant">OtherSwitch</span>.on? }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Multiple <span class='object_link'><a href="#only_if-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_if (method)">#only_if</a></span> statements can be used and <em>all</em> must be true for the rule to run.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Set OutsideDimmer to 50% if LightSwitch turned on and OtherSwitch is also ON and Door is closed</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">LightSwitch</span>, <span class="key">to</span>: <span class="constant">ON</span>
  run { <span class="constant">OutsideDimmer</span> &lt;&lt; <span class="integer">50</span> }
  only_if { <span class="constant">OtherSwitch</span>.on? }
  only_if { <span class="constant">Door</span>.closed? }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Guards have access to event information.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Set OutsideDimmer to 50% if any switch in group Switches starting with Outside is switched On</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">Switches</span>.items, <span class="key">to</span>: <span class="constant">ON</span>
  run { <span class="constant">OutsideDimmer</span> &lt;&lt; <span class="integer">50</span> }
  only_if { |event| event.item.name.start_with?(<span class="string"><span class="delimiter">&quot;</span><span class="content">Outside</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">Core::Events::AbstractEvent</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The event data that is about to trigger the rule.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A value indicating if the rule should run.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


591
592
593</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 591</span>

prop_array(<span class="symbol">:only_if</span>) <span class="keyword">do</span> |item|
  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Object passed to only_if must be a proc</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> item.is_a?(<span class="constant">Proc</span>)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="otherwise-instance_method">
  
    #<strong>otherwise</strong> {|event| ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Add a block that will be passed event data, to be run if guards are
not satisfied.</p>
<p>The <span class='object_link'><a href="#otherwise-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#otherwise (method)">#otherwise</a></span> property is the automation code that is executed when
a rule is triggered and guards are not satisfied.  This property
accepts a block of code and executes it. The block is automatically
passed an event object which can be used to access multiple
properties about the triggering event.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Turn switch ON or OFF based on value of another switch</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  run { <span class="constant">TestSwitch</span> &lt;&lt; <span class="constant">ON</span> }
  otherwise { <span class="constant">TestSwitch</span> &lt;&lt; <span class="constant">OFF</span> }
  only_if { <span class="constant">OtherSwitch</span>.on? }
<span class="keyword">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">Core::Events::AbstractEvent</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


391</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 391</span>

prop_array <span class="symbol">:otherwise</span>, <span class="key">array_name</span>: <span class="symbol">:run_queue</span>, <span class="key">wrapper</span>: <span class="constant">Otherwise</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="received_command-instance_method">
  
    #<strong>received_command</strong>(*items, command: nil, commands: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a trigger for when an item or group receives a command.</p>
<p>The command/commands parameters are replicated for DSL fluency.</p>
<p>The <code>event</code> passed to run blocks will be an
<span class='object_link'><a href="../../Core/Events/ItemCommandEvent.html" title="OpenHAB::Core::Events::ItemCommandEvent (class)">Core::Events::ItemCommandEvent</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item received command</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">Alarm_Mode</span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item received command: </span><span class="inline"><span class="inline-delimiter">#{</span>event.command<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> ) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item receives specific command</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">Alarm_Mode</span>, <span class="key">command</span>: <span class="integer">7</span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item received command: </span><span class="inline"><span class="inline-delimiter">#{</span>event.command<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> ) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item receives one of many specific commands</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">Alarm_Mode</span>, <span class="key">commands</span>: [<span class="integer">7</span>,<span class="integer">14</span>]
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item received command: </span><span class="inline"><span class="inline-delimiter">#{</span>event.command<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> ) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when group receives a specific command</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">AlarmModes</span>
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> received command</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when member of group receives any command</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">AlarmModes</span>.members
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group item </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> received command</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when member of group is changed to one of many states</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">AlarmModes</span>.members, <span class="key">commands</span>: [<span class="integer">7</span>, <span class="integer">14</span>]
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group item </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> received command</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item receives a range of commands</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">Alarm_Mode</span>, <span class="key">commands</span>: <span class="integer">7</span>..<span class="integer">14</span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item received command: </span><span class="inline"><span class="inline-delimiter">#{</span>event.command<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> ) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with procs</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when Alarm Mode command is odd</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">Alarm_Mode</span>, <span class="key">command</span>: proc { |c| c.odd? }
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item received command: </span><span class="inline"><span class="inline-delimiter">#{</span>event.command<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> ) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with lambdas</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when Alarm Mode command is odd</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">Alarm_Mode</span>, <span class="key">command</span>: -&gt; c { c.odd? }
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item received command: </span><span class="inline"><span class="inline-delimiter">#{</span>event.command<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> ) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with regexes</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when Alarm Mode command matches a substring</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  received_command <span class="constant">Alarm_Mode</span>, <span class="key">command</span>: <span class="regexp"><span class="delimiter">/</span><span class="content">arm</span><span class="delimiter">/</span></span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item received command: </span><span class="inline"><span class="inline-delimiter">#{</span>event.command<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> ) }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>items</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Items to create trigger for</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>command</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Types/Command.html" title="OpenHAB::Core::Types::Command (module)">Core::Types::Command</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Types/Command.html" title="OpenHAB::Core::Types::Command (module)">Core::Types::Command</a></span>&gt;</tt>, <tt>#===</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>commands to match for trigger</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>commands</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Types/Command.html" title="OpenHAB::Core::Types::Command (module)">Core::Types::Command</a></span>&gt;</tt>, <tt>#===</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Fluent alias for <code>command</code></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1464
1465
1466
1467
1468
1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485
1486
1487
1488</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1464</span>

<span class="keyword">def</span> <span class="function">received_command</span>(*items, <span class="key">command</span>: <span class="predefined-constant">nil</span>, <span class="key">commands</span>: <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  command_trigger = <span class="constant">Command</span>.new(<span class="key">rule_triggers</span>: <span class="instance-variable">@rule_triggers</span>)

  <span class="comment"># if neither command nor commands is specified, ensure that we create</span>
  <span class="comment"># a trigger that isn't looking for a specific command.</span>
  commands = [<span class="predefined-constant">nil</span>] <span class="keyword">if</span> command.nil? &amp;&amp; commands.nil?
  commands = <span class="constant">Array</span>.wrap(command) | <span class="constant">Array</span>.wrap(commands)

  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:received_command</span>, items, { <span class="key">command</span>: commands }]

  items.each <span class="keyword">do</span> |item|
    <span class="keyword">case</span> item
    <span class="keyword">when</span> <span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">Item</span>,
         <span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">GroupItem</span>::<span class="constant">Members</span>
      <span class="predefined-constant">nil</span>
    <span class="keyword">else</span>
      raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">items must be an Item or GroupItem::Members</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>
    commands.each <span class="keyword">do</span> |cmd|
      logger.trace { <span class="string"><span class="delimiter">&quot;</span><span class="content">Creating received command trigger for items </span><span class="inline"><span class="inline-delimiter">#{</span>item.inspect<span class="inline-delimiter">}</span></span><span class="content"> and commands </span><span class="inline"><span class="inline-delimiter">#{</span>cmd.inspect<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span> }

      command_trigger.trigger(<span class="key">item</span>: item, <span class="key">command</span>: cmd, <span class="key">attach</span>: attach)
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run-instance_method">
  
    #<strong>run</strong> {|event| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Add a block that will be passed event data.</p>
<p>The run property is the automation code that is executed when a rule
is triggered. This property accepts a block of code and executes it.
The block is automatically passed an event object which can be used
to access multiple properties about the triggering event. The code
for the automation can be entirely within the run block and can call
methods defined in the Ruby script.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p><code>{}</code> style used for single line blocks.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Access Event Properties</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">TestSwitch</span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="content"> triggered from </span><span class="inline"><span class="inline-delimiter">#{</span>event.was<span class="inline-delimiter">}</span></span><span class="content"> to </span><span class="inline"><span class="inline-delimiter">#{</span>event.state<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p><code>do/end</code> style used for multi-line blocks.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Multi Line Run Block</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">TestSwitch</span>
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="content"> triggered</span><span class="delimiter">&quot;</span></span>)
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">from </span><span class="inline"><span class="inline-delimiter">#{</span>event.was<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) <span class="keyword">if</span> event.was?
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">to </span><span class="inline"><span class="inline-delimiter">#{</span>event.state<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) <span class="keyword">if</span> event.state?
   <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Rules can have multiple run blocks and they are executed in order. Useful when used in combination with <span class='object_link'><a href="#delay-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#delay (method)">#delay</a></span>.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Multiple Run Blocks</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">TestSwitch</span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="content"> triggered</span><span class="delimiter">&quot;</span></span>) }
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">from </span><span class="inline"><span class="inline-delimiter">#{</span>event.was<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) <span class="keyword">if</span> event.was? }
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">to </span><span class="inline"><span class="inline-delimiter">#{</span>event.state<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) <span class="keyword">if</span> event.state?  }
<span class="keyword">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">Core::Events::AbstractEvent</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 270</span>

prop_array <span class="symbol">:run</span>, <span class="key">array_name</span>: <span class="symbol">:run_queue</span>, <span class="key">wrapper</span>: <span class="constant">Run</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tags-instance_method">
  
    #<strong>tags</strong>(*tags)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set the rule's tags.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">tagged rule</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  tags <span class="string"><span class="delimiter">&quot;</span><span class="content">lighting</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">security</span><span class="delimiter">&quot;</span></span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>tags</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt><a href="https://www.openhab.org/javadoc/latest/org/openhab/core/semantics/Tag.html" target="_parent" title="Semantics::Tag">Semantics::Tag</a></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of tags to assign to the rule.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


438</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 438</span>

prop <span class="symbol">:tags</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="thing_added-instance_method">
  
    #<strong>thing_added</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a thing added trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">thing added</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  thing_added
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.thing.uid<span class="inline-delimiter">}</span></span><span class="content"> added.</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1558
1559
1560
1561</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1558</span>

<span class="keyword">def</span> <span class="function">thing_added</span>(<span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:thing_added</span>]
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/things/*/added</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ThingAddedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="thing_removed-instance_method">
  
    #<strong>thing_removed</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a thing removed trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">thing removed</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  thing_removed
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.thing.uid<span class="inline-delimiter">}</span></span><span class="content"> removed.</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1576
1577
1578
1579</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1576</span>

<span class="keyword">def</span> <span class="function">thing_removed</span>(<span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:thing_removed</span>]
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/things/*/removed</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ThingRemovedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="thing_updated-instance_method">
  
    #<strong>thing_updated</strong>(attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a thing updated trigger</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">thing updated</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  thing_updated
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.thing.uid<span class="inline-delimiter">}</span></span><span class="content"> updated.</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1595
1596
1597
1598</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1595</span>

<span class="keyword">def</span> <span class="function">thing_updated</span>(<span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:thing_updated</span>]
  event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/things/*/updated</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ThingUpdatedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="throttle_for-instance_method">
  
    #<strong>throttle_for</strong>(duration)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Rate-limits rule executions by delaying triggers and executing the last
trigger within the given duration.</p>
<p>When a new trigger occurs, it will hold the execution and start a fixed timer for
the given duration. Should more triggers occur during this time, keep holding
and once the wait time is over, execute the latest trigger.</p>
<p><span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span> will execute rules after it had waited
for the given duration, regardless of how frequently the triggers were occuring.
In contrast, <span class='object_link'><a href="#debounce_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#debounce_for (method)">#debounce_for</a></span> will wait until there is a minimum interval
between two triggers.</p>
<p><span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span> is ideal in situations where regular status updates need to be made
for frequently changing values. It is also useful when a rule responds to triggers
from multiple related items that are updated at around the same time. Instead of
executing the rule multiple times, <span class='object_link'><a href="#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">#throttle_for</a></span> will wait for a pre-set amount
of time since the first group of triggers occurred before executing the rule.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Perform calculations from multiple items</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Update Power Summary </span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span> |rule|
  changed <span class="constant">Power_From_Solar</span>, <span class="constant">Power_Load</span>, <span class="constant">Power_From_Grid</span>
  throttle_for <span class="integer">1</span>.second
  only_if { rule.dependencies.all?(&amp;<span class="symbol">:state?</span>) } <span class="comment"># make sure all items have a state</span>
  run <span class="keyword">do</span>
    msg = []
    msg &lt;&lt; <span class="constant">Power_Load</span>.state.negate.to_unit(<span class="string"><span class="delimiter">&quot;</span><span class="content">kW</span><span class="delimiter">&quot;</span></span>).format(<span class="string"><span class="delimiter">&quot;</span><span class="content">Load: %.2f %unit%</span><span class="delimiter">&quot;</span></span>)
    msg &lt;&lt; <span class="constant">Power_From_Solar</span>.state.to_unit(<span class="string"><span class="delimiter">&quot;</span><span class="content">kW</span><span class="delimiter">&quot;</span></span>).format(<span class="string"><span class="delimiter">&quot;</span><span class="content">PV: %.2f %unit%</span><span class="delimiter">&quot;</span></span>)
    <span class="keyword">if</span> <span class="constant">Power_From_Grid</span>.positive?
      msg &lt;&lt; <span class="constant">Power_From_Grid</span>.state.to_unit(<span class="string"><span class="delimiter">&quot;</span><span class="content">kW</span><span class="delimiter">&quot;</span></span>).format(<span class="string"><span class="delimiter">&quot;</span><span class="content">From Grid: %.1f %unit%</span><span class="delimiter">&quot;</span></span>)
    <span class="keyword">else</span>
      msg &lt;&lt; <span class="constant">Power_From_Grid</span>.state.negate.to_unit(<span class="string"><span class="delimiter">&quot;</span><span class="content">kW</span><span class="delimiter">&quot;</span></span>).format(<span class="string"><span class="delimiter">&quot;</span><span class="content">To Grid: %.1f %unit%</span><span class="delimiter">&quot;</span></span>)
    <span class="keyword">end</span>
    <span class="constant">Power_Summary</span>.update(msg.join(<span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span>))
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>duration</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The minimum amount of time to wait inbetween rule
executions.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#debounce_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#debounce_for (method)">#debounce_for</a></span></li>
    
      <li><span class='object_link'><a href="#only_every-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_every (method)">#only_every</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


750
751
752</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 750</span>

<span class="keyword">def</span> <span class="function">throttle_for</span>(duration)
  debounce(<span class="key">for</span>: duration)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="time_series_updated-instance_method">
  
    #<strong>time_series_updated</strong>(*items, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Creates a time series updated trigger</p>
<p>The <code>event</code> passed to run blocks will be a <span class='object_link'><a href="../../Core/Events/ItemTimeSeriesUpdatedEvent.html" title="OpenHAB::Core::Events::ItemTimeSeriesUpdatedEvent (class)">Core::Events::ItemTimeSeriesUpdatedEvent</a></span></p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item time series is updated</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  time_series_updated <span class="constant">MyItem</span>
  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item time series updated: </span><span class="inline"><span class="inline-delimiter">#{</span>event.item.name<span class="inline-delimiter">}</span></span><span class="content">.</span><span class="delimiter">&quot;</span></span>)
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">  TimeSeries size: </span><span class="inline"><span class="inline-delimiter">#{</span>event.time_series.size<span class="inline-delimiter">}</span></span><span class="content">, policy: </span><span class="inline"><span class="inline-delimiter">#{</span>event.time_series.policy<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)
    event.time_series.each <span class="keyword">do</span> |entry|
      timestamp = entry.timestamp.to_time.strftime(<span class="string"><span class="delimiter">&quot;</span><span class="content">%Y-%m-%d %H:%M:%S</span><span class="delimiter">&quot;</span></span>)
      logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">    Entry: </span><span class="inline"><span class="inline-delimiter">#{</span>timestamp<span class="inline-delimiter">}</span></span><span class="content">: State: </span><span class="inline"><span class="inline-delimiter">#{</span>entry.state<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>items</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Items to create trigger for.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Object to be attached to the trigger.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="../../Core/Types/TimeSeries.html" title="OpenHAB::Core::Types::TimeSeries (class)">TimeSeries</a></span></li>
    
      <li><span class='object_link'><a href="../../Core/Items/GenericItem.html#time_series=-instance_method" title="OpenHAB::Core::Items::GenericItem#time_series= (method)">GenericItem#time_series=</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>openHAB 4.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1838
1839
1840
1841
1842
1843
1844
1845</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1838</span>

<span class="keyword">def</span> <span class="function">time_series_updated</span>(*items, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:time_series_updated</span>, items]
  items.map <span class="keyword">do</span> |item|
    raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">items must be an Item or GroupItem::Members</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> item.is_a?(<span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">Item</span>)

    event(<span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/items/</span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content">/timeseriesupdated</span><span class="delimiter">&quot;</span></span>, <span class="key">types</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ItemTimeSeriesUpdatedEvent</span><span class="delimiter">&quot;</span></span>, <span class="key">attach</span>: attach)
  <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="trigger-instance_method">
  
    #<strong>trigger</strong>(type, attach: nil, **configuration)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a generic trigger given the trigger type uid and a configuration hash</p>
<p>This provides the ability to create a trigger type not already covered by the other methods.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Create a trigger for the <a href="https://www.openhab.org/addons/automation/pidcontroller/">PID Controller Automation</a> add-on.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">PID Control</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  trigger <span class="string"><span class="delimiter">'</span><span class="content">pidcontroller.trigger</span><span class="delimiter">'</span></span>,
    <span class="key">input</span>: <span class="constant">InputItem</span>.name,
    <span class="key">setpoint</span>: <span class="constant">SetPointItem</span>.name,
    <span class="key">kp</span>: <span class="integer">10</span>,
    <span class="key">ki</span>: <span class="integer">10</span>,
    <span class="key">kd</span>: <span class="integer">10</span>,
    <span class="key">kdTimeConstant</span>: <span class="integer">1</span>,
    <span class="key">loopTime</span>: <span class="integer">1000</span>

  run <span class="keyword">do</span> |event|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">PID controller command: </span><span class="inline"><span class="inline-delimiter">#{</span>event.command<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)
    <span class="constant">ControlItem</span> &lt;&lt; event.command
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>DateTime Trigger</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">DateTime Trigger</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  description <span class="string"><span class="delimiter">'</span><span class="content">Triggers at a time specified in MyDateTimeItem</span><span class="delimiter">'</span></span>
  trigger <span class="string"><span class="delimiter">'</span><span class="content">timer.DateTimeTrigger</span><span class="delimiter">'</span></span>, <span class="key">itemName</span>: <span class="constant">MyDateTimeItem</span>.name
  run <span class="keyword">do</span>
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">DateTimeTrigger has been triggered</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Trigger type UID</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>configuration</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A hash containing the trigger configuration entries</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1701
1702
1703
1704
1705</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1701</span>

<span class="keyword">def</span> <span class="function">trigger</span>(type, <span class="key">attach</span>: <span class="predefined-constant">nil</span>, **configuration)
  logger.trace { <span class="string"><span class="delimiter">&quot;</span><span class="content">Creating trigger (</span><span class="inline"><span class="inline-delimiter">#{</span>type<span class="inline-delimiter">}</span></span><span class="content">) with configuration(</span><span class="inline"><span class="inline-delimiter">#{</span>configuration<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span> }
  <span class="constant">Triggers</span>::<span class="constant">Trigger</span>.new(<span class="key">rule_triggers</span>: <span class="instance-variable">@rule_triggers</span>)
                   .append_trigger(<span class="key">type</span>: type, <span class="key">config</span>: configuration, <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="triggered-instance_method">
  
    #<strong>triggered</strong> {|item| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Add a block that will be passed the triggering item.</p>
<p>This property is the same as the <span class='object_link'><a href="#run-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#run (method)">#run</a></span> property except rather than
passing an event object to the automation block the triggered item is
passed. This enables optimizations for simple cases and supports
Ruby's <a href="https://medium.com/@dcjones/the-pretzel-colon-75df46dde0c7">pretzel colon <code>&amp;:</code> operator.</a>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">motion sensor triggered</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">MotionSensor</span>.members, <span class="key">to</span>: <span class="symbol">:OPEN</span>
  triggered <span class="keyword">do</span> |item|
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> detected motion</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Triggered has access directly to item triggered</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">TestSwitch</span>
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> triggered</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Triggered items are highly useful when working with groups</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># Switches is a group of Switch items</span>
rule <span class="string"><span class="delimiter">'</span><span class="content">Triggered item is item changed when a group item is changed.</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">Switches</span>.members
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Switch </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> changed to </span><span class="inline"><span class="inline-delimiter">#{</span>item.state<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span>

rule <span class="string"><span class="delimiter">'</span><span class="content">Turn off any switch that changes</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">Switches</span>.members
  triggered(&amp;<span class="symbol">:off</span>)
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Like other execution blocks, multiple triggered blocks are supported in a single rule</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Turn a switch off and log it, 5 seconds after turning it on</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">Switches</span>.members, <span class="key">to</span>: <span class="constant">ON</span>
  delay <span class="integer">5</span>.seconds
  triggered(&amp;<span class="symbol">:off</span>)
  triggered {|item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>item.label<span class="inline-delimiter">}</span></span><span class="content"> turned off</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
  </div>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>item</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


320</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 320</span>

prop_array <span class="symbol">:triggered</span>, <span class="key">array_name</span>: <span class="symbol">:run_queue</span>, <span class="key">wrapper</span>: <span class="constant">Trigger</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uid-instance_method">
  
    #<strong>uid</strong>(id)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set the rule's UID.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


403</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 403</span>

prop <span class="symbol">:uid</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="updated-instance_method">
  
    #<strong>updated</strong>(*items, to: nil, attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a trigger when item, group or thing is updated</p>
<p>The <code>event</code> passed to run blocks will be an
<span class='object_link'><a href="../../Core/Events/ItemStateEvent.html" title="OpenHAB::Core::Events::ItemStateEvent (class)">Core::Events::ItemStateEvent</a></span> or a
<span class='object_link'><a href="../../Core/Events/ThingStatusInfoEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoEvent (class)">Core::Events::ThingStatusInfoEvent</a></span> depending on if the triggering
element was an item or a thing.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item is updated to any value</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">Alarm_Mode</span>
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item is updated to specific number</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">Alarm_Mode</span>, <span class="key">to</span>: <span class="integer">7</span>
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item is updated to one of many specific states</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">Alarm_Mode</span>, <span class="key">to</span>: [<span class="integer">7</span>, <span class="integer">14</span>]
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when item is within a range</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">Alarm_Mode</span>, <span class="key">to</span>: <span class="integer">7</span>..<span class="integer">14</span>
  run { logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alarm Mode Updated to a value between 7 and 14</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when group is updated to any state</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">AlarmModes</span>
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> updated</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when member of group is changed to any state</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">AlarmModes</span>.members
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group item </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> updated</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when member of group is changed to one of many states</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">AlarmModes</span>.members, <span class="key">to</span>: [<span class="integer">7</span>, <span class="integer">14</span>]
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group item </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> updated</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with procs</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when member of group is changed to an odd state</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">AlarmModes</span>.members, <span class="key">to</span>: proc { |t| t.odd? }
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group item </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> updated</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with lambdas:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when member of group is changed to an odd state</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">AlarmModes</span>.members, <span class="key">to</span>: -&gt; t { t.odd? }
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group item </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> updated</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with regexes:</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when member of group is changed to a substring</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  updated <span class="constant">AlarmModes</span>.members, <span class="key">to</span>: <span class="regexp"><span class="delimiter">/</span><span class="content">armed</span><span class="delimiter">/</span></span>
  triggered { |item| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Group item </span><span class="inline"><span class="inline-delimiter">#{</span>item.name<span class="inline-delimiter">}</span></span><span class="content"> updated</span><span class="delimiter">&quot;</span></span>)}
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Works with things as well</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Execute rule when thing is updated</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
   updated things[<span class="string"><span class="delimiter">'</span><span class="content">astro:sun:home</span><span class="delimiter">'</span></span>], <span class="symbol">:to</span> =&gt; <span class="symbol">:uninitialized</span>
   run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Thing </span><span class="inline"><span class="inline-delimiter">#{</span>event.uid<span class="inline-delimiter">}</span></span><span class="content"> status &lt;trigger&gt; to </span><span class="inline"><span class="inline-delimiter">#{</span>event.status<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>items</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>, <tt><span class='object_link'><a href="../../Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">GroupItem::Members</a></span></tt>, <tt>Thing</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Objects to create trigger for.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>to</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>&gt;</tt>, <tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt>String</tt>, <tt>#===</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Only execute rule if the state matches <code>to</code> state(s). If the
updated element is a <span class='object_link'><a href="../../Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Core::Things::Thing</a></span>, the <code>to</code> accepts
symbols and strings that match
<a href="https://www.openhab.org/docs/concepts/things.html#thing-status">supported thing statuses</a>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1791
1792
1793
1794
1795
1796
1797
1798
1799
1800
1801
1802
1803
1804
1805
1806
1807
1808
1809
1810</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1791</span>

<span class="keyword">def</span> <span class="function">updated</span>(*items, <span class="key">to</span>: <span class="predefined-constant">nil</span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  updated = <span class="constant">Updated</span>.new(<span class="key">rule_triggers</span>: <span class="instance-variable">@rule_triggers</span>)
  <span class="instance-variable">@ruby_triggers</span> &lt;&lt; [<span class="symbol">:updated</span>, items, { <span class="key">to</span>: to }]
  items.map <span class="keyword">do</span> |item|
    <span class="keyword">case</span> item
    <span class="keyword">when</span> <span class="constant">Core</span>::<span class="constant">Things</span>::<span class="constant">Thing</span>,
         <span class="constant">Core</span>::<span class="constant">Things</span>::<span class="constant">ThingUID</span>,
         <span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">Item</span>,
         <span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">GroupItem</span>::<span class="constant">Members</span>
      <span class="predefined-constant">nil</span>
    <span class="keyword">else</span>
      raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">items must be an Item, GroupItem::Members, Thing, or ThingUID</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>

    logger.trace { <span class="string"><span class="delimiter">&quot;</span><span class="content">Creating updated trigger for item(</span><span class="inline"><span class="inline-delimiter">#{</span>item<span class="inline-delimiter">}</span></span><span class="content">) to(</span><span class="inline"><span class="inline-delimiter">#{</span>to<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span> }
    [to].flatten.map <span class="keyword">do</span> |to_state|
      updated.trigger(<span class="key">item</span>: item, <span class="key">to</span>: to_state, <span class="key">attach</span>: attach)
    <span class="keyword">end</span>
  <span class="keyword">end</span>.flatten
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="watch-instance_method">
  
    #<strong>watch</strong>(path, glob: &quot;*&quot;, for: %i[created deleted modified], attach: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Create a trigger to watch a path</p>
<p>It provides the ability to create a trigger on file and directory
changes.</p>
<p>If a file or a path that does not exist is supplied as the argument
to watch, the parent directory will be watched and the file or
non-existent part of the supplied path will become the glob. For
example, if the path given is <code>/tmp/foo/bar</code> and <code>/tmp/foo</code>
exists but <code>bar</code> does not exist inside of of <code>/tmp/foo</code> then the
directory <code>/tmp/foo</code> will be watched for any files that match
<code>*/bar</code>.</p>
<p>If the last part of the path contains any glob characters e.g.
<code>/tmp/foo/*bar</code>, the parent directory will be watched and the last
part of the path will be treated as if it was passed as the <code>glob</code>
argument. In other words, <code>watch '/tmp/foo/*bar'</code> is equivalent to
<code>watch '/tmp/foo', glob: '*bar'</code></p>
<h3 id="watching-inside-subdirectories"><a href="#watching-inside-subdirectories" class="header-anchor">#</a>Watching inside subdirectories</h3>
<p>Subdirectories aren't watched unless:</p>
<ul>
<li>One of the glob patterns include the recursive match pattern <code>**</code>, or</li>
<li>The glob patterns include subdirectories, see examples below.</li>
</ul>
<p>The <code>event</code> passed to run blocks will be a <span class='object_link'><a href="../Events/WatchEvent.html" title="OpenHAB::DSL::Events::WatchEvent (class)">Events::WatchEvent</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items</code> directory inside of the openHAB configuration path and log any changes.</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">watch directory</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  watch <span class="constant">OpenHAB</span>::<span class="constant">Core</span>.config_folder / <span class="string"><span class="delimiter">'</span><span class="content">items</span><span class="delimiter">'</span></span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.path.basename<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">#{</span>event.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items</code> directory for files that end in <code>*.erb</code> and log any changes</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">watch directory</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  watch <span class="constant">OpenHAB</span>::<span class="constant">Core</span>.config_folder / <span class="string"><span class="delimiter">'</span><span class="content">items</span><span class="delimiter">'</span></span>, <span class="key">glob</span>: <span class="string"><span class="delimiter">'</span><span class="content">*.erb</span><span class="delimiter">'</span></span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.path.basename<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">#{</span>event.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items/foo.items</code> log any changes</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">watch directory</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  watch <span class="constant">OpenHAB</span>::<span class="constant">Core</span>.config_folder / <span class="string"><span class="delimiter">'</span><span class="content">items/foo.items</span><span class="delimiter">'</span></span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.path.basename<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">#{</span>event.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items/*.items</code> log any changes</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">watch directory</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  watch <span class="constant">OpenHAB</span>::<span class="constant">Core</span>.config_folder / <span class="string"><span class="delimiter">'</span><span class="content">items/*.items</span><span class="delimiter">'</span></span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.path.basename<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">#{</span>event.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch <code>items/*.items</code> for when items files are deleted or created (ignore changes)</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">watch directory</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  watch <span class="constant">OpenHAB</span>::<span class="constant">Core</span>.config_folder / <span class="string"><span class="delimiter">'</span><span class="content">items/*.items</span><span class="delimiter">'</span></span>, <span class="key">for</span>: [<span class="symbol">:deleted</span>, <span class="symbol">:created</span>]
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.path.basename<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">#{</span>event.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Watch for changes inside all subdirs of <code>config_folder/automation/ruby/lib</code></p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Watch recursively</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  watch <span class="constant">OpenHAB</span>::<span class="constant">Core</span>.config_folder / <span class="string"><span class="delimiter">&quot;</span><span class="content">automation/ruby/lib/**</span><span class="delimiter">&quot;</span></span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.path<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">#{</span>event.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Recursively watch using subdirectory in glob</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Monitor changes in the list of installed gems</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  watch <span class="predefined-constant">ENV</span>[<span class="string"><span class="delimiter">'</span><span class="content">GEM_HOME</span><span class="delimiter">'</span></span>], <span class="key">glob</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">gems/*</span><span class="delimiter">&quot;</span></span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.path<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">#{</span>event.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Recursively watch using glob option</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Watch recursively</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  watch <span class="constant">OpenHAB</span>::<span class="constant">Core</span>.config_folder / <span class="string"><span class="delimiter">&quot;</span><span class="content">automation/ruby/lib</span><span class="delimiter">&quot;</span></span>, <span class="key">glob</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">**</span><span class="delimiter">&quot;</span></span>
  run { |event| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>event.path<span class="inline-delimiter">}</span></span><span class="content"> - </span><span class="inline"><span class="inline-delimiter">#{</span>event.type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) }
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Path to watch. Can be a directory or a file.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>glob</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;*&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Limit events to paths matching this glob. Globs are matched using <code>glob</code>
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/FileSystem.html#getPathMatcher(java.lang.String)">PathMatcher</a>
rules.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>for</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;:created, :deleted, :modified&gt;</tt>, <tt>:created</tt>, <tt>:deleted</tt>, <tt>:modified</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>%i[created deleted modified]</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Types of changes to watch for.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attach</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>object to be attached to the trigger</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1933
1934
1935
1936
1937
1938
1939
1940
1941
1942</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl/rules/builder.rb', line 1933</span>

<span class="keyword">def</span> <span class="function">watch</span>(path, <span class="key">glob</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span>, <span class="key">for</span>: <span class="symbol"><span class="delimiter">%i[</span><span class="content">created deleted modified</span><span class="delimiter">]</span></span>, <span class="key">attach</span>: <span class="predefined-constant">nil</span>)
  types = [binding.local_variable_get(<span class="symbol">:for</span>)].flatten

  <span class="constant">WatchHandler</span>::<span class="constant">WatchTriggerHandlerFactory</span>.instance <span class="comment"># ensure it's registered</span>
  trigger(<span class="constant">WatchHandler</span>::<span class="constant">WATCH_TRIGGER_MODULE_ID</span>,
          <span class="key">path</span>: path.to_s,
          <span class="key">types</span>: types.map(&amp;<span class="symbol">:to_s</span>),
          <span class="key">glob</span>: glob.to_s,
          <span class="key">attach</span>: attach)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

        <footer>
  Generated on Tue Jan 30 16:55:03 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.3).
</footer>

      </main>
    </div>
  </body>
</html>
