<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: OpenHAB::DSL
  
    &mdash; openHAB JRuby
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../css/fonts.css" type="text/css" />

  <link rel="stylesheet" href="../css/navbar.css" type="text/css" />

  <link rel="stylesheet" href="../css/sidebar.css" type="text/css" />

  <link rel="stylesheet" href="../css/coderay.css" type="text/css" />

<script type="text/javascript">
  pathId = "OpenHAB::DSL";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


    <meta property="og:description" name="description" content="The main DSL available to rules.

Methods on this module are extended onto `main`, the top level `self` in
any file. You can also access them as class methods on the module for use
inside of other classes, or include the module. - Documentation for openhab-scripting JRuby helper library.">
    <meta property="og:image" content="https://raw.githubusercontent.com/jruby/collateral/master/logos/PNGs/circle-fill/full-color/jruby-logo-circle-logo-fill-outline-medium.png">
    <meta property="og:image:alt" content="The JRuby logo">
    <script type="text/javascript">
      indexpath = '../index.json';
      base_url = '../';
    </script>
  </head>
  <body>
    <div id="app">
      <header class="navbar">
        <div class="sidebar-button">
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon">
            <path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path>
          </svg>
        </div>
        <a href="../index.html">
          <img src="../docs/images/openhab-logo.png" alt="openHAB" class="logo can-hide">
          <img src="../docs/images/jrubyscripting.png" alt="openHAB" class="logo">
          <span class="site-name can-hide">openHAB</span>
        </a>
        <div class="links">
          <form class="search-box" role="search" style="display: none">
  <input id="search-input" class="search-query ds-input" placeholder autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="search input" style="position: relative, vertical-align: top;">
  <div class="search-results" role="listbox">
    <ul></ul>
  </div>
</form>

          <nav class="nav-links can-hide">
            <div class="nav-item">
  <a href="https://github.com/openhab/openhab-jruby" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
</div>

          </nav>
        </div>
      </header>

      <div class="sidebar-mask"></div>
      <aside class="sidebar">
        <nav class="nav-links">
          <div class="nav-item">
  <a href="https://github.com/openhab/openhab-jruby" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
</div>

        </nav>
        <div class="page-versions">
  <ul class="version-switcher">
    <li><a href="/openhab-jruby/5.5" class="version-button stable">Stable <small>(5.5)</small></a></li>
    <li><a href="/openhab-jruby/main" class="version-button main">Latest <small>(main)</small></a></li>
  </ul>
  
  
</div>


        
        <ul class="sidebar-links">
          <li>
            <section class="sidebar-group collapsed">
              <p class="sidebar-heading"><span><a href="../index.html">Getting Started</a></span><a class="arrow toggle right"></a></p>
              <ul class="sidebar-links sidebar-group-items">
                
  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../index.html" title="USAGE">USAGE</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../file.CHANGELOG.html" title="CHANGELOG">CHANGELOG</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../file.CONTRIBUTING.html" title="Contributing">Contributing</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../file.README.html" title="README">README</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../file.conversions.html" title="Rule Conversions">Rule Conversions</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../file.examples.html" title="Examples">Examples</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../file.ruby-basics.html" title="Ruby Basics">Ruby Basics</a>
    </span>
    
  </li>

  <li>
    
    <span class="sidebar-link">
      <a class="sidebar-link" href="../file.testing.html" title="Testing Your Rules">Testing Your Rules</a>
    </span>
    
  </li>


              </ul>
            </section>
          </li>
          
          <li>
            <section class="sidebar-group">              
              <p class="sidebar-heading"><span><span class='object_link'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">Classes</a></span></span><a class="arrow toggle down"></a></p>
              <ul class="sidebar-links sidebar-group-items class-list">
                
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../OpenHAB.html" title="OpenHAB (module)">OpenHAB</a></span>
      
      
        <a class="arrow toggle down"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="Core.html" title="OpenHAB::Core (module)">Core</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/AbstractUID.html" title="OpenHAB::Core::AbstractUID (class)">AbstractUID</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Actions.html" title="OpenHAB::Core::Actions (module)">Actions</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Actions/Audio.html" title="OpenHAB::Core::Actions::Audio (class)">Audio</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Actions/Ephemeris.html" title="OpenHAB::Core::Actions::Ephemeris (class)">Ephemeris</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Actions/Exec.html" title="OpenHAB::Core::Actions::Exec (class)">Exec</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Actions/HTTP.html" title="OpenHAB::Core::Actions::HTTP (class)">HTTP</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Actions/Ping.html" title="OpenHAB::Core::Actions::Ping (class)">Ping</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Actions/Transformation.html" title="OpenHAB::Core::Actions::Transformation (class)">Transformation</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Actions/Voice.html" title="OpenHAB::Core::Actions::Voice (class)">Voice</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  

        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/DTO.html" title="OpenHAB::Core::DTO (module)">DTO</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/DTO/AbstractThingDTO.html" title="OpenHAB::Core::DTO::AbstractThingDTO (class)">AbstractThingDTO</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/DTO/ItemChannelLinkDTO.html" title="OpenHAB::Core::DTO::ItemChannelLinkDTO (class)">ItemChannelLinkDTO</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">EntityLookup</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Events.html" title="OpenHAB::Core::Events (module)">Events</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/AbstractEvent.html" title="OpenHAB::Core::Events::AbstractEvent (class)">AbstractEvent</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/AbstractItemRegistryEvent.html" title="OpenHAB::Core::Events::AbstractItemRegistryEvent (class)">AbstractItemRegistryEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/AbstractThingRegistryEvent.html" title="OpenHAB::Core::Events::AbstractThingRegistryEvent (class)">AbstractThingRegistryEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ItemAddedEvent.html" title="OpenHAB::Core::Events::ItemAddedEvent (class)">ItemAddedEvent</a></span>
      
        &lt; AbstractItemRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ItemCommandEvent.html" title="OpenHAB::Core::Events::ItemCommandEvent (class)">ItemCommandEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ItemEvent.html" title="OpenHAB::Core::Events::ItemEvent (class)">ItemEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ItemRemovedEvent.html" title="OpenHAB::Core::Events::ItemRemovedEvent (class)">ItemRemovedEvent</a></span>
      
        &lt; AbstractItemRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ItemState.html" title="OpenHAB::Core::Events::ItemState (module)">ItemState</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ItemStateChangedEvent.html" title="OpenHAB::Core::Events::ItemStateChangedEvent (class)">ItemStateChangedEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ItemStateEvent.html" title="OpenHAB::Core::Events::ItemStateEvent (class)">ItemStateEvent</a></span>
      
        &lt; ItemEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ItemUpdatedEvent.html" title="OpenHAB::Core::Events::ItemUpdatedEvent (class)">ItemUpdatedEvent</a></span>
      
        &lt; AbstractItemRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ThingAddedEvent.html" title="OpenHAB::Core::Events::ThingAddedEvent (class)">ThingAddedEvent</a></span>
      
        &lt; AbstractThingRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ThingRemovedEvent.html" title="OpenHAB::Core::Events::ThingRemovedEvent (class)">ThingRemovedEvent</a></span>
      
        &lt; AbstractThingRegistryEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ThingStatusInfoChangedEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoChangedEvent (class)">ThingStatusInfoChangedEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ThingStatusInfoEvent.html" title="OpenHAB::Core::Events::ThingStatusInfoEvent (class)">ThingStatusInfoEvent</a></span>
      
        &lt; AbstractEvent
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Events/ThingUpdatedEvent.html" title="OpenHAB::Core::Events::ThingUpdatedEvent (class)">ThingUpdatedEvent</a></span>
      
        &lt; AbstractThingRegistryEvent
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Items.html" title="OpenHAB::Core::Items (module)">Items</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/ColorItem.html" title="OpenHAB::Core::Items::ColorItem (class)">ColorItem</a></span>
      
        &lt; DimmerItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/ContactItem.html" title="OpenHAB::Core::Items::ContactItem (class)">ContactItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/DateTimeItem.html" title="OpenHAB::Core::Items::DateTimeItem (class)">DateTimeItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/DimmerItem.html" title="OpenHAB::Core::Items::DimmerItem (class)">DimmerItem</a></span>
      
        &lt; SwitchItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/GenericItem.html" title="OpenHAB::Core::Items::GenericItem (class)">GenericItem</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/GroupItem.html" title="OpenHAB::Core::Items::GroupItem (class)">GroupItem</a></span>
      
        &lt; GenericItem
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Items/GroupItem/Members.html" title="OpenHAB::Core::Items::GroupItem::Members (class)">Members</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/ImageItem.html" title="OpenHAB::Core::Items::ImageItem (class)">ImageItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/LocationItem.html" title="OpenHAB::Core::Items::LocationItem (class)">LocationItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/Metadata.html" title="OpenHAB::Core::Items::Metadata (module)">Metadata</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Items/Metadata/Hash.html" title="OpenHAB::Core::Items::Metadata::Hash (class)">Hash</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Items/Metadata/NamespaceHash.html" title="OpenHAB::Core::Items::Metadata::NamespaceHash (class)">NamespaceHash</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Items/Metadata/Provider.html" title="OpenHAB::Core::Items::Metadata::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/NumberItem.html" title="OpenHAB::Core::Items::NumberItem (class)">NumberItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/NumericItem.html" title="OpenHAB::Core::Items::NumericItem (module)">NumericItem</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/Persistence.html" title="OpenHAB::Core::Items::Persistence (module)">Persistence</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Items/Persistence/HistoricState.html" title="OpenHAB::Core::Items::Persistence::HistoricState (class)">HistoricState</a></span>
      
        &lt; SimpleDelegator
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/PlayerItem.html" title="OpenHAB::Core::Items::PlayerItem (class)">PlayerItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/Provider.html" title="OpenHAB::Core::Items::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/Registry.html" title="OpenHAB::Core::Items::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/RollershutterItem.html" title="OpenHAB::Core::Items::RollershutterItem (class)">RollershutterItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/Semantics.html" title="OpenHAB::Core::Items::Semantics (module)">Semantics</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Items/Semantics/Provider.html" title="OpenHAB::Core::Items::Semantics::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Items/Semantics/SemanticTag.html" title="OpenHAB::Core::Items::Semantics::SemanticTag (module)">SemanticTag</a></span>
      
      
    </span>
    
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Items/Semantics/TagClassMethods.html" title="OpenHAB::Core::Items::Semantics::TagClassMethods (module)">TagClassMethods</a></span>
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/StateStorage.html" title="OpenHAB::Core::Items::StateStorage (class)">StateStorage</a></span>
      
        &lt; SimpleDelegator
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/StringItem.html" title="OpenHAB::Core::Items::StringItem (class)">StringItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Items/SwitchItem.html" title="OpenHAB::Core::Items::SwitchItem (class)">SwitchItem</a></span>
      
        &lt; GenericItem
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/LazyArray.html" title="OpenHAB::Core::LazyArray (module)">LazyArray</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Provider.html" title="OpenHAB::Core::Provider (class)">Provider</a></span>
      
        &lt; org.openhab.core.common.registry.AbstractProvider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Registry.html" title="OpenHAB::Core::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Rules.html" title="OpenHAB::Core::Rules (module)">Rules</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Rules/Provider.html" title="OpenHAB::Core::Rules::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Rules/Registry.html" title="OpenHAB::Core::Rules::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Rule</a></span>
      
      
    </span>
    
    
  </li>

  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Rules/TaggedArray.html" title="OpenHAB::Core::Rules::TaggedArray (class)">TaggedArray</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/ScriptHandling.html" title="OpenHAB::Core::ScriptHandling (module)">ScriptHandling</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Things.html" title="OpenHAB::Core::Things (module)">Things</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Things/Channel.html" title="OpenHAB::Core::Things::Channel (class)">Channel</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Things/ChannelUID.html" title="OpenHAB::Core::Things::ChannelUID (class)">ChannelUID</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Things/ItemChannelLink.html" title="OpenHAB::Core::Things::ItemChannelLink (class)">ItemChannelLink</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Things/Links.html" title="OpenHAB::Core::Things::Links (module)">Links</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Things/Links/Provider.html" title="OpenHAB::Core::Things::Links::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Things/ProfileCallback.html" title="OpenHAB::Core::Things::ProfileCallback (module)">ProfileCallback</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Things/Provider.html" title="OpenHAB::Core::Things::Provider (class)">Provider</a></span>
      
        &lt; Provider
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Things/Registry.html" title="OpenHAB::Core::Things::Registry (class)">Registry</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Things/Thing.html" title="OpenHAB::Core::Things::Thing (module)">Thing</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="Core/Things/Thing/ChannelsArray.html" title="OpenHAB::Core::Things::Thing::ChannelsArray (class)">ChannelsArray</a></span>
      
        &lt; Array
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Timer.html" title="OpenHAB::Core::Timer (class)">Timer</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/Types.html" title="OpenHAB::Core::Types (module)">Types</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/Command.html" title="OpenHAB::Core::Types::Command (module)">Command</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/DateTimeType.html" title="OpenHAB::Core::Types::DateTimeType (class)">DateTimeType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/DecimalType.html" title="OpenHAB::Core::Types::DecimalType (class)">DecimalType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/HSBType.html" title="OpenHAB::Core::Types::HSBType (class)">HSBType</a></span>
      
        &lt; PercentType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/IncreaseDecreaseType.html" title="OpenHAB::Core::Types::IncreaseDecreaseType (class)">IncreaseDecreaseType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/NextPreviousType.html" title="OpenHAB::Core::Types::NextPreviousType (class)">NextPreviousType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/NumericType.html" title="OpenHAB::Core::Types::NumericType (module)">NumericType</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/OnOffType.html" title="OpenHAB::Core::Types::OnOffType (class)">OnOffType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/OpenClosedType.html" title="OpenHAB::Core::Types::OpenClosedType (class)">OpenClosedType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/PercentType.html" title="OpenHAB::Core::Types::PercentType (class)">PercentType</a></span>
      
        &lt; DecimalType
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/PlayPauseType.html" title="OpenHAB::Core::Types::PlayPauseType (class)">PlayPauseType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/PointType.html" title="OpenHAB::Core::Types::PointType (class)">PointType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/QuantityType.html" title="OpenHAB::Core::Types::QuantityType (class)">QuantityType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/RawType.html" title="OpenHAB::Core::Types::RawType (class)">RawType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/RefreshType.html" title="OpenHAB::Core::Types::RefreshType (class)">RefreshType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/RewindFastforwardType.html" title="OpenHAB::Core::Types::RewindFastforwardType (class)">RewindFastforwardType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/StopMoveType.html" title="OpenHAB::Core::Types::StopMoveType (class)">StopMoveType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/StringType.html" title="OpenHAB::Core::Types::StringType (class)">StringType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/Type.html" title="OpenHAB::Core::Types::Type (module)">Type</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/UnDefType.html" title="OpenHAB::Core::Types::UnDefType (class)">UnDefType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="Core/Types/UpDownType.html" title="OpenHAB::Core::Types::UpDownType (class)">UpDownType</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="Core/ValueCache.html" title="OpenHAB::Core::ValueCache (module)">ValueCache</a></span>
      
      
    </span>
    
    
  </li>

  
  
  

        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="CoreExt.html" title="OpenHAB::CoreExt (module)">CoreExt</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="CoreExt/Between.html" title="OpenHAB::CoreExt::Between (module)">Between</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="CoreExt/Ephemeris.html" title="OpenHAB::CoreExt::Ephemeris (module)">Ephemeris</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="CoreExt/Java.html" title="OpenHAB::CoreExt::Java (module)">Java</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/Class.html" title="OpenHAB::CoreExt::Java::Class (class)">Class</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/LocalDate.html" title="OpenHAB::CoreExt::Java::LocalDate (class)">LocalDate</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/LocalTime.html" title="OpenHAB::CoreExt::Java::LocalTime (class)">LocalTime</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/Month.html" title="OpenHAB::CoreExt::Java::Month (class)">Month</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/MonthDay.html" title="OpenHAB::CoreExt::Java::MonthDay (class)">MonthDay</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/Period.html" title="OpenHAB::CoreExt::Java::Period (class)">Period</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/TemporalAmount.html" title="OpenHAB::CoreExt::Java::TemporalAmount (module)">TemporalAmount</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/Time.html" title="OpenHAB::CoreExt::Java::Time (module)">Time</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Java/ZonedDateTime.html" title="OpenHAB::CoreExt::Java::ZonedDateTime (class)">ZonedDateTime</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="CoreExt/Ruby.html" title="OpenHAB::CoreExt::Ruby (module)">Ruby</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Ruby/Numeric.html" title="OpenHAB::CoreExt::Ruby::Numeric (module)">Numeric</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Ruby/QuantityTypeConversion.html" title="OpenHAB::CoreExt::Ruby::QuantityTypeConversion (module)">QuantityTypeConversion</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="CoreExt/Ruby/Range.html" title="OpenHAB::CoreExt::Ruby::Range (module)">Range</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link active">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="" title="OpenHAB::DSL (module)">DSL</a></span>
      
      
        <a class="arrow toggle down"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="DSL/Debouncer.html" title="OpenHAB::DSL::Debouncer (class)">Debouncer</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="DSL/Events.html" title="OpenHAB::DSL::Events (module)">Events</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Events/WatchEvent.html" title="OpenHAB::DSL::Events::WatchEvent (class)">WatchEvent</a></span>
      
        &lt; Struct
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="DSL/Items.html" title="OpenHAB::DSL::Items (module)">Items</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Items/Builder.html" title="OpenHAB::DSL::Items::Builder (module)">Builder</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Items/Ensure.html" title="OpenHAB::DSL::Items::Ensure (module)">Ensure</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="DSL/Items/Ensure/Ensurable.html" title="OpenHAB::DSL::Items::Ensure::Ensurable (module)">Ensurable</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="DSL/Items/Ensure/Item.html" title="OpenHAB::DSL::Items::Ensure::Item (module)">Item</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Items/GroupItemBuilder.html" title="OpenHAB::DSL::Items::GroupItemBuilder (class)">GroupItemBuilder</a></span>
      
        &lt; ItemBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Items/ItemBuilder.html" title="OpenHAB::DSL::Items::ItemBuilder (class)">ItemBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Items/TimedCommand.html" title="OpenHAB::DSL::Items::TimedCommand (module)">TimedCommand</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-4" href="DSL/Items/TimedCommand/TimedCommandDetails.html" title="OpenHAB::DSL::Items::TimedCommand::TimedCommandDetails (class)">TimedCommandDetails</a></span>
      
        &lt; Struct
      
      
    </span>
    
    
  </li>

  

        
      </ul>
    
  </li>


        
      </ul>
    
  </li>

  
  
  
  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="DSL/Rules.html" title="OpenHAB::DSL::Rules (module)">Rules</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Rules/Builder.html" title="OpenHAB::DSL::Rules::Builder (class)">Builder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Rules/BuilderDSL.html" title="OpenHAB::DSL::Rules::BuilderDSL (class)">BuilderDSL</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Rules/Terse.html" title="OpenHAB::DSL::Rules::Terse (module)">Terse</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="DSL/Things.html" title="OpenHAB::DSL::Things (module)">Things</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Things/BridgeBuilder.html" title="OpenHAB::DSL::Things::BridgeBuilder (class)">BridgeBuilder</a></span>
      
        &lt; ThingBuilder
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Things/Builder.html" title="OpenHAB::DSL::Things::Builder (class)">Builder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Things/ChannelBuilder.html" title="OpenHAB::DSL::Things::ChannelBuilder (class)">ChannelBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="DSL/Things/ThingBuilder.html" title="OpenHAB::DSL::Things::ThingBuilder (class)">ThingBuilder</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="DSL/TimerManager.html" title="OpenHAB::DSL::TimerManager (class)">TimerManager</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="Log.html" title="OpenHAB::Log (module)">Log</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="Logger.html" title="OpenHAB::Logger (class)">Logger</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="OSGi.html" title="OpenHAB::OSGi (module)">OSGi</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="RSpec.html" title="OpenHAB::RSpec (module)">RSpec</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="RSpec/Configuration.html" title="OpenHAB::RSpec::Configuration (module)">Configuration</a></span>
      
      
    </span>
    
    
  </li>

  
  <li class="collapsed">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="RSpec/ExampleGroup.html" title="OpenHAB::RSpec::ExampleGroup (module)">ExampleGroup</a></span>
      
      
        <a class="arrow toggle right"></a>
      
    </span>
    
    
      
      <ul>
        
        
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-3" href="RSpec/ExampleGroup/ClassMethods.html" title="OpenHAB::RSpec::ExampleGroup::ClassMethods (module)">ClassMethods</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-2" href="RSpec/Helpers.html" title="OpenHAB::RSpec::Helpers (module)">Helpers</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-1" href="Transform.html" title="OpenHAB::Transform (module)">Transform</a></span>
      
      
    </span>
    
    
  </li>


        
      </ul>
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Array.html" title="Array (class)">Array</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Date.html" title="Date (class)">Date</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../DateTime.html" title="DateTime (class)">DateTime</a></span>
      
        &lt; Date
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Enumerable.html" title="Enumerable (module)">Enumerable</a></span>
      
      
    </span>
    
    
  </li>

  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Float.html" title="Float (class)">Float</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Integer.html" title="Integer (class)">Integer</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Module.html" title="Module (class)">Module</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Numeric.html" title="Numeric (class)">Numeric</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Range.html" title="Range (class)">Range</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Symbol.html" title="Symbol (class)">Symbol</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  <li class="">
    <span class="sidebar-link">
      <span class='object_link'><a class="sidebar-link sidebar-link-depth-0" href="../Time.html" title="Time (class)">Time</a></span>
      
        &lt; Object
      
      
    </span>
    
    
  </li>

  
  
  
  
  
  
  
  
  
  
  
  

              </ul>
            </section>
          </li>
        </ul>
      </aside>

      <main class="page">
        <div class="content"><h1>Module: OpenHAB::DSL
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Core/Actions.html" title="OpenHAB::Core::Actions (module)">Core::Actions</a></span>, <span class='object_link'><a href="Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">Core::EntityLookup</a></span>, <span class='object_link'><a href="Core/ScriptHandling.html" title="OpenHAB::Core::ScriptHandling (module)">Core::ScriptHandling</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html" title="OpenHAB::DSL::Rules::Terse (module)">Rules::Terse</a></span></dd>
  </dl>
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="DSL/Items/Builder.html" title="OpenHAB::DSL::Items::Builder (module)">Items::Builder</a></span>, <span class='object_link'><a href="DSL/Rules/BuilderDSL.html" title="OpenHAB::DSL::Rules::BuilderDSL (class)">Rules::BuilderDSL</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/openhab/dsl.rb<span class="defines">,<br />
  lib/openhab/dsl/rules.rb,<br /> lib/openhab/dsl/events.rb,<br /> lib/openhab/dsl/version.rb,<br /> lib/openhab/dsl/debouncer.rb,<br /> lib/openhab/dsl/rules/guard.rb,<br /> lib/openhab/dsl/rules/terse.rb,<br /> lib/openhab/dsl/items/ensure.rb,<br /> lib/openhab/dsl/thread_local.rb,<br /> lib/openhab/dsl/items/builder.rb,<br /> lib/openhab/dsl/rules/builder.rb,<br /> lib/openhab/dsl/timer_manager.rb,<br /> lib/openhab/dsl/rules/property.rb,<br /> lib/openhab/dsl/rules/triggers.rb,<br /> lib/openhab/dsl/things/builder.rb,<br /> lib/openhab/dsl/events/watch_event.rb,<br /> lib/openhab/dsl/items/timed_command.rb,<br /> lib/openhab/dsl/rules/rule_triggers.rb,<br /> lib/openhab/dsl/rules/name_inference.rb,<br /> lib/openhab/dsl/rules/automation_rule.rb,<br /> lib/openhab/dsl/rules/triggers/changed.rb,<br /> lib/openhab/dsl/rules/triggers/channel.rb,<br /> lib/openhab/dsl/rules/triggers/command.rb,<br /> lib/openhab/dsl/rules/triggers/trigger.rb,<br /> lib/openhab/dsl/rules/triggers/updated.rb,<br /> lib/openhab/dsl/rules/triggers/cron/cron.rb,<br /> lib/openhab/dsl/rules/triggers/conditions.rb,<br /> lib/openhab/dsl/rules/triggers/cron/cron_handler.rb,<br /> lib/openhab/dsl/rules/triggers/conditions/generic.rb,<br /> lib/openhab/dsl/rules/triggers/conditions/duration.rb,<br /> lib/openhab/dsl/rules/triggers/watch/watch_handler.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>The main DSL available to rules.</p>
<p>Methods on this module are extended onto <code>main</code>, the top level <code>self</code> in
any file. You can also access them as class methods on the module for use
inside of other classes, or include the module.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="DSL/Events.html" title="OpenHAB::DSL::Events (module)">Events</a></span>, <span class='object_link'><a href="DSL/Items.html" title="OpenHAB::DSL::Items (module)">Items</a></span>, <span class='object_link'><a href="DSL/Rules.html" title="OpenHAB::DSL::Rules (module)">Rules</a></span>, <span class='object_link'><a href="DSL/Things.html" title="OpenHAB::DSL::Things (module)">Things</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="DSL/Debouncer.html" title="OpenHAB::DSL::Debouncer (class)">Debouncer</a></span>, <span class='object_link'><a href="DSL/TimerManager.html" title="OpenHAB::DSL::TimerManager (class)">TimerManager</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="VERSION-constant" class="">VERSION =
          <div class="docstring">
  <div class="discussion">
    <p>Version of openHAB helper libraries</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class="string"><span class="delimiter">&quot;</span><span class="content">5.5.0</span><span class="delimiter">&quot;</span></span></pre></dd>
      
    </dl>
  







  
    <h2 id="Rule-Creation-group">
      Rule Creation
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rule-class_method" title="rule (class method)">.<strong>rule</strong>(name = nil, **kwargs) {|rule| ... } &#x21d2; Core::Rules::Rule<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a new rule.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scene-class_method" title="scene (class method)">.<strong>scene</strong>(name = nil, id: nil, **kwargs) { ... } &#x21d2; Core::Rules::Rule </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a new scene.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#script-class_method" title="script (class method)">.<strong>script</strong>(name = nil, id: nil, **kwargs) { ... } &#x21d2; Core::Rules::Rule </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a new script.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Rule-Support-group">
      Rule Support
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#profile-class_method" title="profile (class method)">.<strong>profile</strong>(id) {|event, command: nil, state: nil, callback:, link:, item:, channel_uid:, configuration:, context:| ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines a new profile that can be applied to item channel links.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Object-Access-group">
      Object Access
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#items-class_method" title="items (class method)">.<strong>items</strong>  &#x21d2; Core::Items::Registry </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Fetches all items from the item registry.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rules-class_method" title="rules (class method)">.<strong>rules</strong>  &#x21d2; Core::Rules::Registry </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Fetches all rules from the rule registry.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shared_cache-class_method" title="shared_cache (class method)">.<strong>shared_cache</strong>  &#x21d2; Core::ValueCache </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>ValueCache is the interface used to access a <span class='object_link'><a href="#shared_cache-class_method" title="OpenHAB::DSL.shared_cache (method)">shared cache</a></span> available between scripts and/or rule executions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#things-class_method" title="things (class method)">.<strong>things</strong>  &#x21d2; Core::Things::Registry </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get all things known to openHAB.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#timers-class_method" title="timers (class method)">.<strong>timers</strong>  &#x21d2; TimerManager </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Provides access to timers created by <span class='object_link'><a href="#after-class_method" title="OpenHAB::DSL.after (method)">after</a></span>.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Utilities-group">
      Utilities
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after-class_method" title="after (class method)">.<strong>after</strong>(duration, id: nil, reschedule: true) {|timer| ... } &#x21d2; Core::Timer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a timer and execute the supplied block after the specified duration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#between-class_method" title="between (class method)">.<strong>between</strong>(range)  &#x21d2; Range </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Convert a string based range into a range of LocalTime, LocalDate, MonthDay, or ZonedDateTime depending on the format of the string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#debounce_for-class_method" title="debounce_for (class method)">.<strong>debounce_for</strong>(debounce_time, id: nil, &amp;block)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Waits until calls to this method have stopped firing for a period of time before executing the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#only_every-class_method" title="only_every (class method)">.<strong>only_every</strong>(interval, id: nil, &amp;block)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Limit how often the given block executes to the specified interval.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store_states-class_method" title="store_states (class method)">.<strong>store_states</strong>(*items)  &#x21d2; Core::Items::StateStorage </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Store states of supplied items.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#throttle_for-class_method" title="throttle_for (class method)">.<strong>throttle_for</strong>(duration, id: nil, &amp;block)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Rate-limits block executions by delaying calls and only executing the last call within the given duration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#transform-class_method" title="transform (class method)">.<strong>transform</strong>(type, function, value)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Applies a transformation of a given type with some function to a value.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Block-Modifiers-group">
      Block Modifiers
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <div class="docstring">
  <div class="discussion">
    <p>These methods allow certain operations to be grouped inside the given block
to reduce repetitions</p>


  </div>
</div>
<div class="tags">
  

</div>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ensure_states-class_method" title="ensure_states (class method)">.<strong>ensure_states</strong> { ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Global method that takes a block and for the duration of the block all commands sent will check if the item is in the command's state before sending the command.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#holiday_file-class_method" title="holiday_file (class method)">.<strong>holiday_file</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#holiday_file!-class_method" title="holiday_file! (class method)">.<strong>holiday_file!</strong>(file = nil)  &#x21d2; Symbol<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets a thread local variable to set the default holiday file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#persistence-class_method" title="persistence (class method)">.<strong>persistence</strong>(service) { ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets a thread local variable to set the default persistence service for method calls inside the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#persistence!-class_method" title="persistence! (class method)">.<strong>persistence!</strong>(service = nil)  &#x21d2; Object<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Permanently sets the default persistence service for the current thread.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#provider-class_method" title="provider (class method)">.<strong>provider</strong>(*providers, **providers_by_type) { ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the implicit provider(s) for operations inside the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#provider!-class_method" title="provider! (class method)">.<strong>provider!</strong>(things: nil, items: nil, metadata: nil, links: nil, **metadata_items)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Permanently set the implicit provider(s) for this thread.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unit-class_method" title="unit (class method)">.<strong>unit</strong>(*units) { ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the implicit unit(s) for operations inside the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unit!-class_method" title="unit! (class method)">.<strong>unit!</strong>(*units)  &#x21d2; Hash&lt;javax.measure.Dimension=&gt;javax.measure.Unit&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Permanently sets the implicit unit(s) for this thread.</p>
</div></span>
  
</li>

      
    </ul>
  



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="DSL/Rules/Terse.html" title="OpenHAB::DSL::Rules::Terse (module)">Rules::Terse</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="DSL/Rules/Terse.html#changed-instance_method" title="OpenHAB::DSL::Rules::Terse#changed (method)">#changed</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#channel-instance_method" title="OpenHAB::DSL::Rules::Terse#channel (method)">#channel</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#channel_linked-instance_method" title="OpenHAB::DSL::Rules::Terse#channel_linked (method)">#channel_linked</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#channel_unlinked-instance_method" title="OpenHAB::DSL::Rules::Terse#channel_unlinked (method)">#channel_unlinked</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#cron-instance_method" title="OpenHAB::DSL::Rules::Terse#cron (method)">#cron</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#every-instance_method" title="OpenHAB::DSL::Rules::Terse#every (method)">#every</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#item_added-instance_method" title="OpenHAB::DSL::Rules::Terse#item_added (method)">#item_added</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#item_removed-instance_method" title="OpenHAB::DSL::Rules::Terse#item_removed (method)">#item_removed</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#item_updated-instance_method" title="OpenHAB::DSL::Rules::Terse#item_updated (method)">#item_updated</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#on_start-instance_method" title="OpenHAB::DSL::Rules::Terse#on_start (method)">#on_start</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#received_command-instance_method" title="OpenHAB::DSL::Rules::Terse#received_command (method)">#received_command</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#thing_added-instance_method" title="OpenHAB::DSL::Rules::Terse#thing_added (method)">#thing_added</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#thing_removed-instance_method" title="OpenHAB::DSL::Rules::Terse#thing_removed (method)">#thing_removed</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#thing_updated-instance_method" title="OpenHAB::DSL::Rules::Terse#thing_updated (method)">#thing_updated</a></span>, <span class='object_link'><a href="DSL/Rules/Terse.html#updated-instance_method" title="OpenHAB::DSL::Rules::Terse#updated (method)">#updated</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Core/ScriptHandling.html" title="OpenHAB::Core::ScriptHandling (module)">Core::ScriptHandling</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Core/ScriptHandling.html#script_loaded-class_method" title="OpenHAB::Core::ScriptHandling.script_loaded (method)">script_loaded</a></span>, <span class='object_link'><a href="Core/ScriptHandling.html#script_unloaded-class_method" title="OpenHAB::Core::ScriptHandling.script_unloaded (method)">script_unloaded</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Core/Actions.html" title="OpenHAB::Core::Actions (module)">Core::Actions</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Core/Actions.html#notify-class_method" title="OpenHAB::Core::Actions.notify (method)">notify</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Core/EntityLookup.html" title="OpenHAB::Core::EntityLookup (module)">Core::EntityLookup</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Core/EntityLookup.html#method_missing-instance_method" title="OpenHAB::Core::EntityLookup#method_missing (method)">#method_missing</a></span></p>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'><a href="Core/EntityLookup.html#method_missing-instance_method" title="OpenHAB::Core::EntityLookup#method_missing (method)">OpenHAB::Core::EntityLookup</a></span>
    
  </p>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="after-class_method">
  
    .<strong>after</strong>(duration, id: nil, reschedule: true) {|timer| ... } &#x21d2; <tt><span class='object_link'><a href="Core/Timer.html" title="OpenHAB::Core::Timer (class)">Core::Timer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a timer and execute the supplied block after the specified duration</p>
<h3 id="reentrant-timers"><a href="#reentrant-timers" class="header-anchor">#</a>Reentrant Timers</h3>
<p>Timers with an id are reentrant by id. Reentrant means that when the same id is encountered,
the timer is rescheduled rather than creating a second new timer. Note that the timer will
execute the block provided in the latest call.</p>
<p>This removes the need for the usual boilerplate code to manually keep track of timer objects.</p>
<p>Timers with <code>id</code> can be managed with the built-in <span class='object_link'><a href="#timers-class_method" title="OpenHAB::DSL.timers (method)">timers</a></span> object.</p>
<p>When a timer is cancelled, it will be removed from the object.</p>
<p>Be sure that your ids are unique. For example, if you're using <span class='object_link'><a href="Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">items</a></span> as your
ids, you either need to be sure you don't use the same item for multiple logical contexts,
or you need to make your id more specific, by doing something like embedding the item in
array with a symbol of the timer's purpose, like <code>[:vacancy, item]</code>. But also note that
assuming default settings, every Ruby file (for file-based rules) or UI rule gets its
own instance of the timers object, so you don't need to worry about collisions among
different files.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Create a simple timer</p>
</div></p>
      
      <pre class="example code"><code>after <span class="integer">5</span>.seconds <span class="keyword">do</span>
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Timer Fired</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Timers delegate methods to openHAB timer objects</p>
</div></p>
      
      <pre class="example code"><code>after <span class="integer">1</span>.second <span class="keyword">do</span> |timer|
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Timer is active? </span><span class="inline"><span class="inline-delimiter">#{</span>timer.active?<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Timers can be rescheduled to run again, waiting the original duration</p>
</div></p>
      
      <pre class="example code"><code>after <span class="integer">3</span>.seconds <span class="keyword">do</span> |timer|
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Timer Fired</span><span class="delimiter">&quot;</span></span>)
  timer.reschedule
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Timers can be rescheduled for different durations</p>
</div></p>
      
      <pre class="example code"><code>after <span class="integer">3</span>.seconds <span class="keyword">do</span> |timer|
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Timer Fired</span><span class="delimiter">&quot;</span></span>)
  timer.reschedule <span class="integer">5</span>.seconds
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Timers can be manipulated through the returned object</p>
</div></p>
      
      <pre class="example code"><code>mytimer = after <span class="integer">1</span>.minute <span class="keyword">do</span>
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">It has been 1 minute</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">end</span>

mytimer.cancel</code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Reentrant timers will automatically reschedule if the same id is encountered again</p>
</div></p>
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Turn off closet light after 10 minutes</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  changed <span class="constant">ClosetLights</span>.members, <span class="key">to</span>: <span class="constant">ON</span>
  triggered <span class="keyword">do</span> |item|
    after <span class="integer">10</span>.minutes, <span class="key">id</span>: item <span class="keyword">do</span>
      item.ensure.off
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Timers with id can be managed through the built-in <code>timers</code> object</p>
</div></p>
      
      <pre class="example code"><code>after <span class="integer">1</span>.minute, <span class="key">id</span>: <span class="symbol">:foo</span> <span class="keyword">do</span>
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">managed timer has fired</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">end</span>

timers.cancel(<span class="symbol">:foo</span>)

<span class="keyword">if</span> timers.include?(<span class="symbol">:foo</span>)
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">The timer :foo is not active</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Only create a new timer if it isn't already scheduled</p>
</div></p>
      
      <pre class="example code"><code>after(<span class="integer">1</span>.minute, <span class="key">id</span>: <span class="symbol">:foo</span>, <span class="key">reschedule</span>: <span class="predefined-constant">false</span>) <span class="keyword">do</span>
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Timer fired</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Reentrant timers will execute the block from the most recent call</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># In the following example, if Item1 received a command, followed by Item2,</span>
<span class="comment"># the timer will execute the block referring to Item2.</span>
rule <span class="string"><span class="delimiter">&quot;</span><span class="content">Execute The Most Recent Block</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  received_command <span class="constant">Item1</span>, <span class="constant">Item2</span>
  run <span class="keyword">do</span> |event|
    after(<span class="integer">10</span>.minutes, <span class="key">id</span>: <span class="symbol">:common_timer</span>) <span class="keyword">do</span>
      logger.info <span class="string"><span class="delimiter">&quot;</span><span class="content">The latest command was received from </span><span class="inline"><span class="inline-delimiter">#{</span>event.item<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>duration</span>
      
      
        <span class='type'>(<tt><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/temporal/TemporalAmount.html" target="_parent" title="java.time.temporal.TemporalAmount">java.time.temporal.TemporalAmount</a></tt>, <tt>#to_zoned_date_time</tt>, <tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Duration after which to execute the block</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>ID to associate with timer. The timer can be managed via <span class='object_link'><a href="#timers-class_method" title="OpenHAB::DSL.timers (method)">timers</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>reschedule</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Reschedule the timer if it already exists.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>Block to execute when the timer is elapsed.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>timer</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Timer.html" title="OpenHAB::Core::Timer (class)">Core::Timer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Timer.html" title="OpenHAB::Core::Timer (class)">Core::Timer</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if <code>reschedule</code> is false, the existing timer.
Otherwise the new timer.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#timers-class_method" title="OpenHAB::DSL.timers (method)">timers</a></span></li>
    
      <li><span class='object_link'><a href="DSL/Rules/BuilderDSL.html#changed-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#changed (method)">OpenHAB::DSL::Rules::BuilderDSL#changed</a></span></li>
    
      <li><span class='object_link'><a href="DSL/Items/TimedCommand.html" title="OpenHAB::DSL::Items::TimedCommand (module)">OpenHAB::DSL::Items::TimedCommand</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


348
349
350
351
352
353
354</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 348</span>

<span class="keyword">def</span> <span class="function">after</span>(duration, <span class="key">id</span>: <span class="predefined-constant">nil</span>, <span class="key">reschedule</span>: <span class="predefined-constant">true</span>, &amp;block)
  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Block is required</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> block

  <span class="comment"># Carry rule name to timer</span>
  thread_locals = <span class="constant">ThreadLocal</span>.persist
  timers.create(duration, <span class="key">id</span>: id, <span class="key">reschedule</span>: reschedule, <span class="key">thread_locals</span>: thread_locals, <span class="key">block</span>: block)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="between-class_method">
  
    .<strong>between</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="../Range.html" title="Range (class)">Range</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Convert a string based range into a range of LocalTime, LocalDate, MonthDay, or ZonedDateTime
depending on the format of the string.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Range#cover?</p>
</div></p>
      
      <pre class="example code"><code>logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Within month-day range</span><span class="delimiter">&quot;</span></span>) <span class="keyword">if</span> between(<span class="string"><span class="delimiter">'</span><span class="content">02-20</span><span class="delimiter">'</span></span>..<span class="string"><span class="delimiter">'</span><span class="content">06-01</span><span class="delimiter">'</span></span>).cover?(<span class="constant">MonthDay</span>.now)</code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Use in a Case</p>
</div></p>
      
      <pre class="example code"><code><span class="keyword">case</span> <span class="constant">MonthDay</span>.now
<span class="keyword">when</span> between(<span class="string"><span class="delimiter">'</span><span class="content">01-01</span><span class="delimiter">'</span></span>..<span class="string"><span class="delimiter">'</span><span class="content">03-31</span><span class="delimiter">'</span></span>)
  logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">First quarter</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">when</span> between(<span class="string"><span class="delimiter">'</span><span class="content">04-01</span><span class="delimiter">'</span></span>..<span class="string"><span class="delimiter">'</span><span class="content">06-30</span><span class="delimiter">'</span></span>)
 logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Second quarter</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Create a time range</p>
</div></p>
      
      <pre class="example code"><code>between(<span class="string"><span class="delimiter">'</span><span class="content">7am</span><span class="delimiter">'</span></span>..<span class="string"><span class="delimiter">'</span><span class="content">12pm</span><span class="delimiter">'</span></span>).cover?(<span class="constant">LocalTime</span>.now)</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Range.html" title="Range (class)">Range</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>converted range object</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="CoreExt/Between.html#between%3F-instance_method" title="OpenHAB::CoreExt::Between#between? (method)">#between?</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


378
379
380
381
382
383
384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 378</span>

<span class="keyword">def</span> <span class="function">between</span>(range)
  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Supplied object must be a range</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> range.is_a?(<span class="constant">Range</span>)

  start = try_parse_time_like(range.begin)
  finish = try_parse_time_like(range.end)
  <span class="constant">Range</span>.new(start, finish, range.exclude_end?)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="debounce_for-class_method">
  
    .<strong>debounce_for</strong>(debounce_time, id: nil, &amp;block)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Waits until calls to this method have stopped firing for a period of time
before executing the block.</p>
<p>This method acts as a guard for the given block to ensure that it doesn't get executed
too frequently. The debounce_for method can be called as frequently as possible.
The given block, however, will only be executed once the <code>debounce_time</code> has passed
since the last call to debounce_for.</p>
<p>This method can be used from within a UI rule as well as from a file-based rule.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Run a block of code only after an item has stopped changing</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># This can be placed inside a UI rule with an Item Change trigger for</span>
<span class="comment"># a Door contact sensor.</span>
<span class="comment"># If the door state has stopped changing state for 10 minutes,</span>
<span class="comment"># execute the block.</span>
debounce_for(<span class="integer">10</span>.minutes) <span class="keyword">do</span>
  <span class="keyword">if</span> <span class="constant">DoorState</span>.open?
    <span class="constant">Voice</span>.say(<span class="string"><span class="delimiter">&quot;</span><span class="content">The door has been left open!</span><span class="delimiter">&quot;</span></span>)
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>ID to associate with this call.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>block</span>
      
      
        <span class='type'>(<tt>Block</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The block to be debounced.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>debounce_time</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>, <tt><span class='object_link'><a href="../Range.html" title="Range (class)">Range</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The minimum interval between two consecutive
triggers before the rules are allowed to run.</p>
<p>When specified just as a Duration or an endless range, it sets the minimum interval
between two consecutive triggers before rules are executed. It will
wait endlessly unless this condition is met or an end of range was specified.</p>
<p>When the end of the range is specified, it sets the maximum amount of time to wait
from the first trigger before the rule will execute, even when triggers continue
to occur more frequently than the minimum interval.</p>
<p>When an equal beginning and ending values are given, it will behave just like
<span class='object_link'><a href="#throttle_for-class_method" title="OpenHAB::DSL.throttle_for (method)">throttle_for</a></span>.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="DSL/Rules/BuilderDSL.html#debounce_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#debounce_for (method)">Rule builder's debounce_for for a detailed description</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


450
451
452
453</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 450</span>

<span class="keyword">def</span> <span class="function">debounce_for</span>(debounce_time, <span class="key">id</span>: <span class="predefined-constant">nil</span>, &amp;block)
  idle_time = debounce_time.is_a?(<span class="constant">Range</span>) ? debounce_time.begin : debounce_time
  debounce(<span class="key">for</span>: debounce_time, <span class="key">idle_time</span>: idle_time, <span class="key">id</span>: id, &amp;block)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ensure_states-class_method">
  
    .<strong>ensure_states</strong> { ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Global method that takes a block and for the duration of the block
all commands sent will check if the item is in the command's state
before sending the command.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Turn on several switches only if they're not already on</p>
</div></p>
      
      <pre class="example code"><code>ensure_states <span class="keyword">do</span>
  <span class="constant">Switch1</span>.on
  <span class="constant">Switch2</span>.on
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code><span class="comment"># VirtualSwitch is in state `ON`</span>
ensure_states <span class="keyword">do</span>
  <span class="constant">VirtualSwitch</span> &lt;&lt; <span class="constant">ON</span>       <span class="comment"># No command will be sent</span>
  <span class="constant">VirtualSwitch</span>.update(<span class="constant">ON</span>)  <span class="comment"># No update will be posted</span>
  <span class="constant">VirtualSwitch</span> &lt;&lt; <span class="constant">OFF</span>      <span class="comment"># Off command will be sent</span>
  <span class="constant">VirtualSwitch</span>.update(<span class="constant">OFF</span>) <span class="comment"># No update will be posted</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>ensure_states <span class="keyword">do</span>
  rule <span class="string"><span class="delimiter">'</span><span class="content">Items in an execution block will have ensure_states applied to them</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
    changed <span class="constant">VirtualSwitch</span>
    run <span class="keyword">do</span>
      <span class="constant">VirtualSwitch</span>.on
      <span class="constant">VirtualSwitch2</span>.on
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">ensure_states must be in an execution block</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">VirtualSwitch</span>
  run <span class="keyword">do</span>
     ensure_states <span class="keyword">do</span>
        <span class="constant">VirtualSwitch</span>.on
        <span class="constant">VirtualSwitch2</span>.on
     <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The result of the block.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


599
600
601
602
603
604
605</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 599</span>

<span class="keyword">def</span> <span class="function">ensure_states</span>
  old = <span class="constant">Thread</span>.current[<span class="symbol">:openhab_ensure_states</span>]
  <span class="constant">Thread</span>.current[<span class="symbol">:openhab_ensure_states</span>] = <span class="predefined-constant">true</span>
  <span class="keyword">yield</span>
<span class="keyword">ensure</span>
  <span class="constant">Thread</span>.current[<span class="symbol">:openhab_ensure_states</span>] = old
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="holiday_file-class_method">
  
    
      <span class="overload">.<strong>holiday_file</strong>(file) { ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> </span>
    
      <span class="overload">.<strong>holiday_file</strong>  &#x21d2; <tt>String</tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>holiday_file</strong>(file) { ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Sets a thread local variable to use a specific holiday file
for <span class='object_link'><a href="CoreExt/Ephemeris.html" title="OpenHAB::CoreExt::Ephemeris (module)">ephemeris calls</a></span> inside the block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Set a specific holiday configuration file temporarily</p>
</div></p>
      
      <pre class="example code"><code>holiday_file(<span class="string"><span class="delimiter">&quot;</span><span class="content">/home/cody/holidays.xml</span><span class="delimiter">&quot;</span></span>) <span class="keyword">do</span>
  <span class="constant">Time</span>.now.next_holiday
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>file</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Path to a file defining holidays;
<code>nil</code> to reset to default.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>[] Block executed in context of the supplied holiday file</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The return value from the block.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#holiday_file!-class_method" title="OpenHAB::DSL.holiday_file! (method)">holiday_file!</a></span></li>
    
  </ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>holiday_file</strong>  &#x21d2; <tt>String</tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Returns the current thread local value for the holiday file.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the current holiday file</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="CoreExt/Ephemeris.html" title="OpenHAB::CoreExt::Ephemeris (module)">CoreExt::Ephemeris</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


930
931
932
933
934
935
936
937
938
939
940</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 930</span>

<span class="keyword">def</span> <span class="function">holiday_file</span>(*args)
  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">wrong number of arguments (given </span><span class="inline"><span class="inline-delimiter">#{</span>args.length<span class="inline-delimiter">}</span></span><span class="content">, expected 0..1)</span><span class="delimiter">&quot;</span></span> <span class="keyword">if</span> args.length &gt; <span class="integer">1</span>

  old = <span class="constant">Thread</span>.current[<span class="symbol">:openhab_holiday_file</span>]
  <span class="keyword">return</span> old <span class="keyword">if</span> args.empty?

  holiday_file!(args.first)
  <span class="keyword">yield</span>
<span class="keyword">ensure</span>
  holiday_file!(old)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="holiday_file!-class_method">
  
    .<strong>holiday_file!</strong>(file = nil)  &#x21d2; <tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets a thread local variable to set the default holiday file.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>holiday_file!(<span class="string"><span class="delimiter">&quot;</span><span class="content">/home/cody/holidays.xml</span><span class="delimiter">&quot;</span></span>)
<span class="constant">Time</span>.now.next_holiday</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>file</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Path to a file defining holidays;
<code>nil</code> to reset to default.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the new holiday file</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://github.com/svendiedrichsen/jollyday/tree/master/src/main/resources/holidays" target="_parent" title="Example data files from the source">Example data files from the source</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


955
956
957</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 955</span>

<span class="keyword">def</span> <span class="function">holiday_file!</span>(file = <span class="predefined-constant">nil</span>)
  <span class="constant">Thread</span>.current[<span class="symbol">:openhab_holiday_file</span>] = file
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="items-class_method">
  
    .<strong>items</strong>  &#x21d2; <tt><span class='object_link'><a href="Core/Items/Registry.html" title="OpenHAB::Core::Items::Registry (class)">Core::Items::Registry</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Fetches all items from the item registry</p>
<p>The examples all assume the following items exist.</p>
<pre class="code xtend"><code class="xtend">Dimmer DimmerTest &quot;Test Dimmer&quot;
Switch SwitchTest &quot;Test Switch&quot;
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item Count: </span><span class="inline"><span class="inline-delimiter">#{</span>items.count<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)  <span class="comment"># Item Count: 2</span>
logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Items: </span><span class="inline"><span class="inline-delimiter">#{</span>items.map(&amp;<span class="symbol">:label</span>).sort.join(<span class="string"><span class="delimiter">'</span><span class="content">, </span><span class="delimiter">'</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)  <span class="comment"># Items: Test Dimmer, Test Switch'</span>
logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">DimmerTest exists? </span><span class="inline"><span class="inline-delimiter">#{</span>items.key?(<span class="string"><span class="delimiter">'</span><span class="content">DimmerTest</span><span class="delimiter">'</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) <span class="comment"># DimmerTest exists? true</span>
logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">StringTest exists? </span><span class="inline"><span class="inline-delimiter">#{</span>items.key?(<span class="string"><span class="delimiter">'</span><span class="content">StringTest</span><span class="delimiter">'</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>) <span class="comment"># StringTest exists? false</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">Use dynamic item lookup to increase related dimmer brightness when switch is turned on</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  changed <span class="constant">SwitchTest</span>, <span class="key">to</span>: <span class="constant">ON</span>
  triggered { |item| items[item.name.gsub(<span class="string"><span class="delimiter">'</span><span class="content">Switch</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">Dimmer</span><span class="delimiter">'</span></span>)].brighten(<span class="integer">10</span>) }
<span class="keyword">end</span></code></pre>
    
      
      <pre class="example code"><code>rule <span class="string"><span class="delimiter">'</span><span class="content">search for a suitable item</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
  on_load
  triggered <span class="keyword">do</span>
    <span class="comment"># Send ON to DimmerTest if it exists, otherwise send it to SwitchTest</span>
    (items[<span class="string"><span class="delimiter">'</span><span class="content">DimmerTest</span><span class="delimiter">'</span></span>] || items[<span class="string"><span class="delimiter">'</span><span class="content">SwitchTest</span><span class="delimiter">'</span></span>])&amp;.on
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Items/Registry.html" title="OpenHAB::Core::Items::Registry (class)">Core::Items::Registry</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 212</span>

<span class="keyword">def</span> <span class="function">items</span>
  <span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">Registry</span>.instance
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="only_every-class_method">
  
    .<strong>only_every</strong>(interval, id: nil, &amp;block)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Limit how often the given block executes to the specified interval.</p>
<p><span class='object_link'><a href="#only_every-class_method" title="OpenHAB::DSL.only_every (method)">only_every</a></span> will execute the given block but prevents further executions
until the given interval has passed. In contrast, <span class='object_link'><a href="#throttle_for-class_method" title="OpenHAB::DSL.throttle_for (method)">throttle_for</a></span> will not
execute the block immediately, and will wait until the end of the interval.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Prevent door bell from ringing repeatedly</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># This can be called from a UI rule.</span>
<span class="comment"># For file based rule, use the `only_every` rule guard</span>
only_every(<span class="integer">30</span>.seconds) { <span class="constant">Audio</span>.play_sound(<span class="string"><span class="delimiter">&quot;</span><span class="content">doorbell.mp3</span><span class="delimiter">&quot;</span></span>) }</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>ID to associate with this call.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>block</span>
      
      
        <span class='type'>(<tt>Block</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The block to be throttled.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>interval</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>, <tt>:second</tt>, <tt>:minute</tt>, <tt>:hour</tt>, <tt>:day</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The period during which
subsequent triggers are ignored.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="DSL/Rules/BuilderDSL.html#debounce_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#debounce_for (method)">Rule builder's debounce_for for a detailed description</a></span></li>
    
      <li><span class='object_link'><a href="DSL/Rules/BuilderDSL.html#only_every-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#only_every (method)">OpenHAB::DSL::Rules::BuilderDSL#only_every</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


513
514
515
516</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 513</span>

<span class="keyword">def</span> <span class="function">only_every</span>(interval, <span class="key">id</span>: <span class="predefined-constant">nil</span>, &amp;block)
  interval = <span class="integer">1</span>.send(interval) <span class="keyword">if</span> <span class="symbol"><span class="delimiter">%i[</span><span class="content">second minute hour day</span><span class="delimiter">]</span></span>.include?(interval)
  debounce(<span class="key">for</span>: interval, <span class="key">leading</span>: <span class="predefined-constant">true</span>, <span class="key">id</span>: id, &amp;block)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="persistence-class_method">
  
    .<strong>persistence</strong>(service) { ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets a thread local variable to set the default persistence service
for method calls inside the block</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>persistence(<span class="symbol">:influxdb</span>) <span class="keyword">do</span>
  <span class="constant">Item1</span>.persist
  <span class="constant">Item1</span>.changed_since(<span class="integer">1</span>.hour)
  <span class="constant">Item1</span>.average_since(<span class="integer">12</span>.hours)
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>service</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Persistence service either as a String or a Symbol</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>[] Block executed in context of the supplied persistence service</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The return value from the block.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#persistence!-class_method" title="OpenHAB::DSL.persistence! (method)">persistence!</a></span></li>
    
      <li><span class='object_link'><a href="Core/Items/Persistence.html" title="OpenHAB::Core::Items::Persistence (module)">Core::Items::Persistence</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


625
626
627
628
629
630</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 625</span>

<span class="keyword">def</span> <span class="function">persistence</span>(service)
  old = persistence!(service)
  <span class="keyword">yield</span>
<span class="keyword">ensure</span>
  persistence!(old)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="persistence!-class_method">
  
    .<strong>persistence!</strong>(service = nil)  &#x21d2; <tt><span class='object_link'>Object</span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>This method is only intended for use at the top level of rule
scripts. If it's used within library methods, or hap-hazardly within
rules, things can get very confusing because the prior state won't be
properly restored.</p>
</div>
  </div>

<p>Permanently sets the default persistence service for the current thread</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>service</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Persistence service either as a String or a Symbol. When nil, use
the system's default persistence service.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The previous persistence service settings, or nil when using the system's default.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#persistence-class_method" title="OpenHAB::DSL.persistence (method)">persistence</a></span></li>
    
      <li><span class='object_link'><a href="Core/Items/Persistence.html" title="OpenHAB::Core::Items::Persistence (module)">Core::Items::Persistence</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


647
648
649
650
651</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 647</span>

<span class="keyword">def</span> <span class="function">persistence!</span>(service = <span class="predefined-constant">nil</span>)
  old = <span class="constant">Thread</span>.current[<span class="symbol">:openhab_persistence_service</span>]
  <span class="constant">Thread</span>.current[<span class="symbol">:openhab_persistence_service</span>] = service
  old
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="profile-class_method">
  
    .<strong>profile</strong>(id) {|event, command: nil, state: nil, callback:, link:, item:, channel_uid:, configuration:, context:| ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Defines a new profile that can be applied to item channel links.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Vetoing a command</p>
</div></p>
      
      <pre class="example code"><code>profile(<span class="symbol">:veto_closing_shades</span>) <span class="keyword">do</span> |event, <span class="key">item</span>:, <span class="key">command</span>:|
  <span class="keyword">next</span> <span class="predefined-constant">false</span> <span class="keyword">if</span> command&amp;.down?

  <span class="predefined-constant">true</span>
<span class="keyword">end</span>

items.build <span class="keyword">do</span>
  rollershutter_item <span class="string"><span class="delimiter">&quot;</span><span class="content">MyShade</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
    channel <span class="string"><span class="delimiter">&quot;</span><span class="content">thing:rollershutter</span><span class="delimiter">&quot;</span></span>, <span class="key">profile</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ruby:veto_closing_shades</span><span class="delimiter">&quot;</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
<span class="comment"># can also be referenced from an `.items` file:</span>
<span class="comment"># Rollershutter MyShade { channel=&quot;thing:rollershutter&quot;[profile=&quot;ruby:veto_closing_shades&quot;] }</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Overriding units from a binding</p>
</div></p>
      
      <pre class="example code"><code>profile(<span class="symbol">:set_uom</span>) <span class="keyword">do</span> |event, <span class="key">callback</span>:, <span class="key">configuration</span>:, <span class="key">state</span>:, <span class="key">command</span>:|
  <span class="keyword">unless</span> configuration[<span class="string"><span class="delimiter">&quot;</span><span class="content">unit</span><span class="delimiter">&quot;</span></span>]
    logger.warn(<span class="string"><span class="delimiter">&quot;</span><span class="content">Unit configuration not provided for set_uom profile</span><span class="delimiter">&quot;</span></span>)
     <span class="keyword">next</span> <span class="predefined-constant">true</span>
  <span class="keyword">end</span>

  <span class="keyword">case</span> event
  <span class="keyword">when</span> <span class="symbol">:state_from_handler</span>
    <span class="keyword">next</span> <span class="predefined-constant">true</span> <span class="keyword">unless</span> state.is_a?(<span class="constant">DecimalType</span>) || state.is_a?(<span class="constant">QuantityType</span>) <span class="comment"># what is it then?!</span>

    state = state.to_d <span class="keyword">if</span> state.is_a?(<span class="constant">QuantityType</span>) <span class="comment"># ignore the units if QuantityType was given</span>
    callback.send_update(state | configuration[<span class="string"><span class="delimiter">&quot;</span><span class="content">unit</span><span class="delimiter">&quot;</span></span>])
    <span class="predefined-constant">false</span>
  <span class="keyword">when</span> <span class="symbol">:command_from_item</span>
    <span class="comment"># strip the unit from the command, as the binding likely can't handle it</span>
    <span class="keyword">next</span> <span class="predefined-constant">true</span> <span class="keyword">unless</span> command.is_a?(<span class="constant">QuantityType</span>)

    callback.handle_command(<span class="constant">DecimalType</span>.new(command.to_d))
    <span class="predefined-constant">false</span>
  <span class="keyword">else</span>
    <span class="predefined-constant">true</span> <span class="comment"># pass other events through as normal</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
<span class="comment"># can also be referenced from an `.items` file:</span>
<span class="comment"># Number:Temperature MyTempWithNonUnitValueFromBinding &quot;I prefer Celsius [%d C]&quot; { channel=&quot;something_that_returns_F&quot;[profile=&quot;ruby:set_uom&quot;, unit=&quot;F&quot;] }</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The id for the profile.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>event</tt>, <tt>command: nil</tt>, <tt>state: nil</tt>, <tt>callback:</tt>, <tt>link:</tt>, <tt>item:</tt>, <tt>channel_uid:</tt>, <tt>configuration:</tt>, <tt>context:</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>All keyword params are optional. Any that aren't defined won't be passed.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt>:command_from_item</tt>, <tt>:state_from_item</tt>, <tt>:command_from_handler</tt>, <tt>:state_from_handler</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The event that needs to be processed.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>command</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Types/Command.html" title="OpenHAB::Core::Types::Command (module)">Command</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The command being sent for <code>:command_from_item</code> and <code>:command_from_handler</code> events.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>state</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Types/State.html" title="OpenHAB::Core::Types::State (module)">State</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The state being sent for <code>:state_from_item</code> and <code>:state_from_handler</code> events.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>callback</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Things/ProfileCallback.html" title="OpenHAB::Core::Things::ProfileCallback (module)">Core::Things::ProfileCallback</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The callback to be used to customize the action taken.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>link</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Things/ItemChannelLink.html" title="OpenHAB::Core::Things::ItemChannelLink (class)">Core::Things::ItemChannelLink</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The link between the item and the channel, including its configuration.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>item</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The linked item.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>channel_uid</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Things/ChannelUID.html" title="OpenHAB::Core::Things::ChannelUID (class)">Core::Things::ChannelUID</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The linked channel.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>configuration</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The profile configuration.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt><a href="https://www.openhab.org/javadoc/latest/org/openhab/core/thing/profiles/ProfileContext.html" target="_parent" title="org.openhab.core.thing.profiles.ProfileContext">org.openhab.core.thing.profiles.ProfileContext</a></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The profile context.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Return true from the block in order to have default processing.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>org.openhab.thing.Profile</li>
    
      <li>org.openhab.thing.StateProfile</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151
152
153</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 144</span>

<span class="keyword">def</span> <span class="function">profile</span>(id, &amp;block)
  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Block is required</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> block

  id = id.to_s
  uid = org.openhab.core.thing.profiles.ProfileTypeUID.new(<span class="string"><span class="delimiter">&quot;</span><span class="content">ruby</span><span class="delimiter">&quot;</span></span>, id)

  <span class="constant">ThreadLocal</span>.thread_local(<span class="key">openhab_rule_type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">profile</span><span class="delimiter">&quot;</span></span>, <span class="key">openhab_rule_uid</span>: id) <span class="keyword">do</span>
    <span class="constant">Core</span>::<span class="constant">ProfileFactory</span>.instance.register(uid, block)
  <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="provider-class_method">
  
    .<strong>provider</strong>(*providers, **providers_by_type) { ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the implicit provider(s) for operations inside the block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>provider(<span class="key">metadata</span>: <span class="symbol">:persistent</span>) <span class="keyword">do</span>
  <span class="constant">Switch1</span>.metadata[<span class="symbol">:last_status_from_service</span>] = status
<span class="keyword">end</span>

provider!(<span class="key">metadata</span>: { <span class="key">last_status_from_service</span>: <span class="symbol">:persistent</span> }, <span class="key">Switch2</span>: <span class="symbol">:persistent</span>)
<span class="constant">Switch1</span>.metadata[<span class="symbol">:last_status_from_service</span>] = status <span class="comment"># this will persist in JSONDB</span>
<span class="constant">Switch1</span>.metadata[<span class="symbol">:homekit</span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">Lightbulb</span><span class="delimiter">&quot;</span></span> <span class="comment"># this will be removed when the script is deleted</span>
<span class="constant">Switch2</span>.metadata[<span class="symbol">:homekit</span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">Lightbulb</span><span class="delimiter">&quot;</span></span> <span class="comment"># this will persist in JSONDB</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>providers</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Provider.html" title="OpenHAB::Core::Provider (class)">Core::Provider</a></span></tt>, <tt><a href="https://www.openhab.org/javadoc/latest/org/openhab/core/common/registry/ManagedProvider.html" target="_parent" title="org.openhab.core.common.registry.ManagedProvider">org.openhab.core.common.registry.ManagedProvider</a></tt>, <tt>:persistent</tt>, <tt>:transient</tt>, <tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An explicit provider to use. If it's a <span class='object_link'><a href="Core/Provider.html" title="OpenHAB::Core::Provider (class)">Core::Provider</a></span>, the type will be inferred automatically.
Otherwise it's applied to all types.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>providers_by_type</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of providers by type. Type can be <code>:items</code>, <code>:metadata</code>, <code>:things</code>, <code>:links</code>,
an <span class='object_link'><a href="Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span> applying the provider to all metadata on that item, or a String or Symbol
applying the provider to all metadata of that namespace.</p>
<p>The provider can be a <a href="https://www.openhab.org/javadoc/latest/org/openhab/core/common/registry/Provider.html" target="_parent" title="Provider">Provider</a>, <code>:persistent</code>,
<code>:transient</code>, or a Proc returning one of those types. When the Proc is called for metadata
elements, the <span class='object_link'><a href="Core/Items/Metadata/Hash.html" title="OpenHAB::Core::Items::Metadata::Hash (class)">Core::Items::Metadata::Hash</a></span> will be passed as an argument. Therefore it's
recommended that you use a Proc, not a Lambda, for permissive argument matching.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>[] The block will be executed using the specified provider(s).</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the result of the block</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#provider!-class_method" title="OpenHAB::DSL.provider! (method)">provider!</a></span></li>
    
      <li><span class='object_link'><a href="Core/Provider.html#current-class_method" title="OpenHAB::Core::Provider.current (method)">Provider.current for how the current provider is calculated</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


801
802
803
804
805
806
807
808
809
810</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 801</span>

<span class="keyword">def</span> <span class="function">provider</span>(*providers, **providers_by_type)
  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">You must give a block to set the provider for the duration of</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> block_given?

  <span class="keyword">begin</span>
    old_providers = provider!(*providers, **providers_by_type)
    <span class="keyword">yield</span>
  <span class="keyword">ensure</span>
    <span class="constant">Thread</span>.current[<span class="symbol">:openhab_providers</span>] = old_providers
  <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="provider!-class_method">
  
    .<strong>provider!</strong>(things: nil, items: nil, metadata: nil, links: nil, **metadata_items)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>This method is only intended for use at the top level of rule
scripts. If it's used within library methods, or hap-hazardly within
rules, things can get very confusing because the prior state won't be
properly restored.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p><p>Permanently set the implicit provider(s) for this thread.</p>
<p><span class='object_link'><a href="#provider!-class_method" title="OpenHAB::DSL.provider! (method)">provider!</a></span> calls are cumulative - additional calls will not erase the effects
of previous calls unless they are for the same provider type.</p>


  </div>
</div>
<div class="tags">
  
  
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>providers</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Provider.html" title="OpenHAB::Core::Provider (class)">Core::Provider</a></span></tt>, <tt><a href="https://www.openhab.org/javadoc/latest/org/openhab/core/common/registry/ManagedProvider.html" target="_parent" title="org.openhab.core.common.registry.ManagedProvider">org.openhab.core.common.registry.ManagedProvider</a></tt>, <tt>:persistent</tt>, <tt>:transient</tt>, <tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An explicit provider to use. If it's a <span class='object_link'><a href="Core/Provider.html" title="OpenHAB::Core::Provider (class)">Core::Provider</a></span>, the type will be inferred automatically.
Otherwise it's applied to all types.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>providers_by_type</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A list of providers by type. Type can be <code>:items</code>, <code>:metadata</code>, <code>:things</code>, <code>:links</code>,
an <span class='object_link'><a href="Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span> applying the provider to all metadata on that item, or a String or Symbol
applying the provider to all metadata of that namespace.</p>
<p>The provider can be a <a href="https://www.openhab.org/javadoc/latest/org/openhab/core/common/registry/Provider.html" target="_parent" title="Provider">Provider</a>, <code>:persistent</code>,
<code>:transient</code>, or a Proc returning one of those types. When the Proc is called for metadata
elements, the <span class='object_link'><a href="Core/Items/Metadata/Hash.html" title="OpenHAB::Core::Items::Metadata::Hash (class)">Core::Items::Metadata::Hash</a></span> will be passed as an argument. Therefore it's
recommended that you use a Proc, not a Lambda, for permissive argument matching.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#provider-class_method" title="OpenHAB::DSL.provider (method)">provider</a></span></li>
    
      <li><span class='object_link'><a href="Core/Provider.html#current-class_method" title="OpenHAB::Core::Provider.current (method)">Provider.current for how the current provider is calculated</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 843</span>

<span class="keyword">def</span> <span class="function">provider!</span>(*providers, **providers_by_type)
  thread_providers = <span class="constant">Thread</span>.current[<span class="symbol">:openhab_providers</span>] ||= {}
  old_providers = thread_providers.dup

  providers.each <span class="keyword">do</span> |provider|
    <span class="keyword">case</span> provider
    <span class="keyword">when</span> <span class="constant">Core</span>::<span class="constant">Provider</span>
      thread_providers[provider.class.type] = provider
    <span class="keyword">when</span> org.openhab.core.common.registry.ManagedProvider
      type = provider.type
      <span class="keyword">unless</span> type
        raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>provider.inspect<span class="inline-delimiter">}</span></span><span class="content"> is for objects which are not supported by openhab-scripting</span><span class="delimiter">&quot;</span></span>
      <span class="keyword">end</span>

      thread_providers[type] = provider
    <span class="keyword">when</span> <span class="constant">Proc</span>,
      <span class="symbol">:transient</span>,
      <span class="symbol">:persistent</span>
      <span class="constant">Core</span>::<span class="constant">Provider</span>::<span class="constant">KNOWN_TYPES</span>.each <span class="keyword">do</span> |known_type|
        thread_providers[known_type] = provider
      <span class="keyword">end</span>
    <span class="keyword">when</span> <span class="constant">Hash</span>
      <span class="comment"># non-symbols can't be used as kwargs, so Item keys show up as a separate hash here</span>
      <span class="comment"># just merge it in, and allow it to be handled below</span>
      providers_by_type.merge!(provider)
    <span class="keyword">else</span>
      raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>provider.inspect<span class="inline-delimiter">}</span></span><span class="content"> is not a valid provider</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  providers_by_type.each <span class="keyword">do</span> |type, provider|
    <span class="keyword">case</span> provider
    <span class="keyword">when</span> <span class="constant">Proc</span>,
      org.openhab.core.common.registry.ManagedProvider,
      <span class="symbol">:transient</span>,
      <span class="symbol">:persistent</span>,
      <span class="predefined-constant">nil</span>
      <span class="predefined-constant">nil</span>
    <span class="keyword">else</span>
      raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>provider.inspect<span class="inline-delimiter">}</span></span><span class="content"> is not a valid provider</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>

    <span class="keyword">case</span> type
    <span class="keyword">when</span> <span class="symbol">:items</span>, <span class="symbol">:metadata</span>, <span class="symbol">:things</span>, <span class="symbol">:links</span>
      <span class="keyword">if</span> provider.is_a?(org.openhab.core.common.registry.ManagedProvider) &amp;&amp; provider.type != type
        raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>provider.inspect<span class="inline-delimiter">}</span></span><span class="content"> is not a provider for </span><span class="inline"><span class="inline-delimiter">#{</span>type<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
      <span class="keyword">end</span>

      thread_providers[type] = provider
    <span class="keyword">when</span> <span class="constant">Symbol</span>, <span class="constant">String</span>
      (thread_providers[<span class="symbol">:metadata_namespaces</span>] ||= {})[type.to_s] = provider
    <span class="keyword">when</span> <span class="constant">Item</span>
      (thread_providers[<span class="symbol">:metadata_items</span>] ||= {})[type.name] = provider
    <span class="keyword">else</span>
      raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>type.inspect<span class="inline-delimiter">}</span></span><span class="content"> is not provider type</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  old_providers
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rule-class_method">
  
    .<strong>rule</strong>(name = nil, **kwargs) {|rule| ... } &#x21d2; <tt><span class='object_link'><a href="Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Core::Rules::Rule</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a new rule</p>
<p>The rule must have at least one trigger and one execution block.
To create a "script" without any triggers, use <span class='object_link'>#script</span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>require <span class="string"><span class="delimiter">&quot;</span><span class="content">openhab/dsl</span><span class="delimiter">&quot;</span></span>

rule <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> <span class="keyword">do</span>
  &lt;one <span class="keyword">or</span> more triggers&gt;
  &lt;one <span class="keyword">or</span> more execution blocks&gt;
  &lt;zero <span class="keyword">or</span> more guards&gt;
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The rule name</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>Block executed in the context of a <span class='object_link'><a href="DSL/Rules/BuilderDSL.html" title="OpenHAB::DSL::Rules::BuilderDSL (class)">OpenHAB::DSL::Rules::BuilderDSL</a></span></p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>rule</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DSL/Rules/BuilderDSL.html" title="OpenHAB::DSL::Rules::BuilderDSL (class)">Rules::BuilderDSL</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Optional parameter to access the rule configuration from within execution blocks and guards.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Core::Rules::Rule</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The rule object, or nil if no rule was created.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="DSL/Rules/BuilderDSL.html" title="OpenHAB::DSL::Rules::BuilderDSL (class)">Rule BuilderDSL for details on rule triggers, guards and execution blocks</a></span></li>
    
      <li><span class='object_link'><a href="DSL/Rules/Terse.html" title="OpenHAB::DSL::Rules::Terse (module)">Terse Rules</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 58</span>

<span class="keyword">def</span> <span class="function">rule</span>(name = <span class="predefined-constant">nil</span>, **kwargs, &amp;block)
  rules.build { rule(name, **kwargs, &amp;block) }
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rules-class_method">
  
    .<strong>rules</strong>  &#x21d2; <tt><span class='object_link'><a href="Core/Rules/Registry.html" title="OpenHAB::Core::Rules::Registry (class)">Core::Rules::Registry</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Fetches all rules from the rule registry.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Rules/Registry.html" title="OpenHAB::Core::Rules::Registry (class)">Core::Rules::Registry</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


175
176
177</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 175</span>

<span class="keyword">def</span> <span class="function">rules</span>
  <span class="constant">Core</span>::<span class="constant">Rules</span>::<span class="constant">Registry</span>.instance
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scene-class_method">
  
    .<strong>scene</strong>(name = nil, id: nil, **kwargs) { ... } &#x21d2; <tt><span class='object_link'><a href="Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Core::Rules::Rule</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a new scene</p>
<p>A scene is a rule with no triggers. It can be called by various other actions,
such as the Run Rules action.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>A descriptive name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The script's ID</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>[] Block executed when the script is executed.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Core::Rules::Rule</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 63</span>

<span class="keyword">def</span> <span class="function">scene</span>(name = <span class="predefined-constant">nil</span>, <span class="key">id</span>: <span class="predefined-constant">nil</span>, **kwargs, &amp;block)
  rules.build { scene(name, <span class="key">id</span>: id, **kwargs, &amp;block) }
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="script-class_method">
  
    .<strong>script</strong>(name = nil, id: nil, **kwargs) { ... } &#x21d2; <tt><span class='object_link'><a href="Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Core::Rules::Rule</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a new script</p>
<p>A script is a rule with no triggers. It can be called by various other actions,
such as the Run Rules action.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>A descriptive name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The script's ID</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>[] Block executed when the script is executed.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Rules/Rule.html" title="OpenHAB::Core::Rules::Rule (module)">Core::Rules::Rule</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 68</span>

<span class="keyword">def</span> <span class="function">script</span>(name = <span class="predefined-constant">nil</span>, <span class="key">id</span>: <span class="predefined-constant">nil</span>, **kwargs, &amp;block)
  rules.build { script(name, <span class="key">id</span>: id, **kwargs, &amp;block) }
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shared_cache-class_method">
  
    .<strong>shared_cache</strong>  &#x21d2; <tt><span class='object_link'><a href="Core/ValueCache.html" title="OpenHAB::Core::ValueCache (module)">Core::ValueCache</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Only the <span class='object_link'><a href="#shared_cache-class_method" title="OpenHAB::DSL.shared_cache (method)">sharedCache</a></span> is exposed in Ruby.
For a private cache, simply use an instance variable. See
<a href="../file.ruby-basics.html#variables" title="Instance Variables">Instance Variables</a>.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Because every script or UI rule gets its own JRuby engine instance,
you cannot rely on being able to access Ruby objects between them. Only
objects that implement a Java interface that's part of Java or openHAB
Core (such as Hash implements <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" target="_parent" title="java.util.Map">java.util.Map</a>, or other basic
datatypes) can be reliably stored and accessed from the shared cache.
Likewise, you can use the cache to access data from other scripting
languages, but they'll be all but useless in Ruby. It's best to stick
to simple data types. If you're having troubles, serializing to_json
before storing may help.</p>
</div>
  </div>

<p>ValueCache is the interface used to access a
<span class='object_link'><a href="#shared_cache-class_method" title="OpenHAB::DSL.shared_cache (method)">shared cache</a></span> available between scripts and/or
rule executions.</p>
<p>While ValueCache looks somewhat like a Hash, it does not support
iteration of the contained elements. So it's limited to strictly storing,
fetching, or removing known elements.</p>
<p>Shared caches are <em>not</em> persisted between openHAB restarts. And in fact,
if all scripts are unloaded that reference a particular key, that key is
removed.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>shared_cache.compute_if_absent(<span class="symbol">:execution_count</span>) { <span class="integer">0</span> }
shared_cache[<span class="symbol">:execution_count</span>] += <span class="integer">1</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/ValueCache.html" title="OpenHAB::Core::ValueCache (module)">Core::ValueCache</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the cache shared among all scripts and UI rules in all languages.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://www.openhab.org/docs/configuration/jsr223.html#cache-preset" target="_parent" title="openHAB Cache Preset">openHAB Cache Preset</a></li>
    
      <li><span class='object_link'><a href="Core/ValueCache.html" title="OpenHAB::Core::ValueCache (module)">ValueCache</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 166</span>

<span class="keyword">def</span> <span class="function">shared_cache</span>
  <span class="global-variable">$sharedCache</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="store_states-class_method">
  
    .<strong>store_states</strong>(*items)  &#x21d2; <tt><span class='object_link'><a href="Core/Items/StateStorage.html" title="OpenHAB::Core::Items::StateStorage (class)">Core::Items::StateStorage</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Store states of supplied items</p>
<p>Takes one or more items and returns a map <code>{Item =&gt; State}</code> with the
current state of each item. It is implemented by calling openHAB's
<a href="https://www.openhab.org/docs/configuration/actions.html#event-bus-actions">events.storeStates()</a>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>states = store_states <span class="constant">Item1</span>, <span class="constant">Item2</span>
...
states.restore</code></pre>
    
      
        <p class="example_title"><div class='inline'><p>With a block</p>
</div></p>
      
      <pre class="example code"><code>store_states <span class="constant">Item1</span>, <span class="constant">Item2</span> <span class="keyword">do</span>
  ...
<span class="keyword">end</span> <span class="comment"># the states will be restored here</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>items</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Items/Item.html" title="OpenHAB::Core::Items::Item (module)">Item</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Items to store states of.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Items/StateStorage.html" title="OpenHAB::Core::Items::StateStorage (class)">Core::Items::StateStorage</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>item states</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


539
540
541
542
543
544
545
546</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 539</span>

<span class="keyword">def</span> <span class="function">store_states</span>(*items)
  states = <span class="constant">Core</span>::<span class="constant">Items</span>::<span class="constant">StateStorage</span>.from_items(*items)
  <span class="keyword">if</span> block_given?
    <span class="keyword">yield</span>
    states.restore
  <span class="keyword">end</span>
  states
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="things-class_method">
  
    .<strong>things</strong>  &#x21d2; <tt><span class='object_link'><a href="Core/Things/Registry.html" title="OpenHAB::Core::Things::Registry (class)">Core::Things::Registry</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get all things known to openHAB</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>things.each { |thing| logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Thing: </span><span class="inline"><span class="inline-delimiter">#{</span>thing.uid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)}
logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Thing: </span><span class="inline"><span class="inline-delimiter">#{</span>things[<span class="string"><span class="delimiter">'</span><span class="content">astro:sun:home</span><span class="delimiter">'</span></span>].uid<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)
homie_things = things.select { |t| t.thing_type_uid == <span class="string"><span class="delimiter">&quot;</span><span class="content">mqtt:homie300</span><span class="delimiter">&quot;</span></span> }
zwave_things = things.select { |t| t.binding_id == <span class="string"><span class="delimiter">&quot;</span><span class="content">zwave</span><span class="delimiter">&quot;</span></span> }
homeseer_dimmers = zwave_things.select { |t| t.thing_type_uid.id == <span class="string"><span class="delimiter">&quot;</span><span class="content">homeseer_hswd200_00_000</span><span class="delimiter">&quot;</span></span> }
things[<span class="string"><span class="delimiter">'</span><span class="content">zwave:device:512:node90</span><span class="delimiter">'</span></span>].uid.bridge_ids <span class="comment"># =&gt; [&quot;512&quot;]</span>
things[<span class="string"><span class="delimiter">'</span><span class="content">mqtt:topic:4</span><span class="delimiter">'</span></span>].uid.bridge_ids <span class="comment"># =&gt; []</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Core/Things/Registry.html" title="OpenHAB::Core::Things::Registry (class)">Core::Things::Registry</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>all Thing objects known to openHAB</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 230</span>

<span class="keyword">def</span> <span class="function">things</span>
  <span class="constant">Core</span>::<span class="constant">Things</span>::<span class="constant">Registry</span>.instance
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="throttle_for-class_method">
  
    .<strong>throttle_for</strong>(duration, id: nil, &amp;block)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Rate-limits block executions by delaying calls and only executing the last
call within the given duration.</p>
<p>When throttle_for is called, it will hold from executing the block and start
a fixed timer for the given duration. Should more calls occur during
this time, keep holding and once the wait time is over, execute the block.</p>
<p><span class='object_link'><a href="#throttle_for-class_method" title="OpenHAB::DSL.throttle_for (method)">throttle_for</a></span> will execute the block after it had waited for the given duration,
regardless of how frequently <code>throttle_for</code> was called.
In contrast, <span class='object_link'><a href="#debounce_for-class_method" title="OpenHAB::DSL.debounce_for (method)">debounce_for</a></span> will wait until there is a minimum interval
between two triggers.</p>
<p><span class='object_link'><a href="#throttle_for-class_method" title="OpenHAB::DSL.throttle_for (method)">throttle_for</a></span> is ideal in situations where regular status updates need to be made
for frequently changing values. It is also useful when a rule responds to triggers
from multiple related items that are updated at around the same time. Instead of
executing the rule multiple times, <span class='object_link'><a href="#throttle_for-class_method" title="OpenHAB::DSL.throttle_for (method)">throttle_for</a></span> will wait for a pre-set amount
of time since the first group of triggers occurred before executing the rule.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>ID to associate with this call.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>block</span>
      
      
        <span class='type'>(<tt>Block</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The block to be throttled.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>duration</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CoreExt/Java/Duration.html" title="OpenHAB::CoreExt::Java::Duration (class)">Duration</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The minimum amount of time to wait inbetween rule
executions.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="DSL/Rules/BuilderDSL.html#debounce_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#debounce_for (method)">Rule builder's debounce_for for a detailed description</a></span></li>
    
      <li><span class='object_link'><a href="DSL/Rules/BuilderDSL.html#throttle_for-instance_method" title="OpenHAB::DSL::Rules::BuilderDSL#throttle_for (method)">OpenHAB::DSL::Rules::BuilderDSL#throttle_for</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


483
484
485</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 483</span>

<span class="keyword">def</span> <span class="function">throttle_for</span>(duration, <span class="key">id</span>: <span class="predefined-constant">nil</span>, &amp;block)
  debounce(<span class="key">for</span>: duration, <span class="key">id</span>: id, &amp;block)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="timers-class_method">
  
    .<strong>timers</strong>  &#x21d2; <tt><span class='object_link'><a href="DSL/TimerManager.html" title="OpenHAB::DSL::TimerManager (class)">TimerManager</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Provides access to timers created by <span class='object_link'><a href="#after-class_method" title="OpenHAB::DSL.after (method)">after</a></span></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DSL/TimerManager.html" title="OpenHAB::DSL::TimerManager (class)">TimerManager</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 238</span>

<span class="keyword">def</span> <span class="function">timers</span>
  <span class="constant">TimerManager</span>.instance
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="transform-class_method">
  
    .<strong>transform</strong>(type, function, value)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Applies a transformation of a given type with some function to a value.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Run a transformation</p>
</div></p>
      
      <pre class="example code"><code>transform(<span class="symbol">:map</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">myfan.map</span><span class="delimiter">&quot;</span></span>, <span class="integer">0</span>)</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The transformation type, e.g. REGEX
or MAP</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>function</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The function to call. This value depends
on the transformation type</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The value to apply the transformation to</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the transformed value, or the original value if an error occurred</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


488
489
490</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 488</span>

<span class="keyword">def</span> <span class="function">transform</span>(type, function, value)
  <span class="constant">Transformation</span>.transform(type, function, value)
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unit-class_method">
  
    
      <span class="overload">.<strong>unit</strong>(*units) { ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> </span>
    
      <span class="overload">.<strong>unit</strong>(dimension)  &#x21d2; <tt><a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the implicit unit(s) for operations inside the block.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>unit</strong>(*units) { ... } &#x21d2; <tt><span class='object_link'>Object</span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Sets the implicit unit(s) for this thread such that classes
operating inside the block can perform automatic conversions to the
supplied unit for <span class='object_link'><a href="Core/Types/QuantityType.html" title="OpenHAB::Core::Types::QuantityType (class)">QuantityType</a></span>.</p>
<p>To facilitate conversion of multiple dimensioned and dimensionless
numbers the unit block may be used. The unit block attempts to do the
<em>right thing</em> based on the mix of dimensioned and dimensionless items
within the block. Specifically all dimensionless items are converted to
the supplied unit, except when they are used for multiplication or
division.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Arithmetic Operations Between QuantityType and Numeric</p>
</div></p>
      
      <pre class="example code"><code><span class="comment"># Number:Temperature NumberC = 23 C</span>
<span class="comment"># Number:Temperature NumberF = 70 F</span>
<span class="comment"># Number Dimensionless = 2</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">F</span><span class="delimiter">'</span></span>) { <span class="constant">NumberC</span>.state - <span class="constant">NumberF</span>.state &lt; <span class="integer">4</span> }                                      <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">F</span><span class="delimiter">'</span></span>) { <span class="constant">NumberC</span>.state - <span class="integer">24</span> | <span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span> &lt; <span class="integer">4</span> }                                          <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">F</span><span class="delimiter">'</span></span>) { (<span class="integer">24</span> | <span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) - <span class="constant">NumberC</span>.state &lt; <span class="integer">4</span> }                                        <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { <span class="constant">NumberF</span>.state - <span class="integer">20</span> &lt; <span class="integer">2</span> }                                                 <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { <span class="constant">NumberF</span>.state - <span class="constant">Dimensionless</span>.state }                                    <span class="comment"># =&gt; 19.11 C</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { <span class="constant">NumberF</span>.state - <span class="constant">Dimensionless</span>.state &lt; <span class="integer">20</span> }                               <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { <span class="constant">Dimensionless</span>.state + <span class="constant">NumberC</span>.state == <span class="integer">25</span> }                              <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { <span class="integer">2</span> + <span class="constant">NumberC</span>.state == <span class="integer">25</span> }                                                <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { <span class="constant">Dimensionless</span>.state * <span class="constant">NumberC</span>.state == <span class="integer">46</span> }                              <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { <span class="integer">2</span> * <span class="constant">NumberC</span>.state == <span class="integer">46</span> }                                                <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { ( (<span class="integer">2</span> * (<span class="constant">NumberF</span>.state + <span class="constant">NumberC</span>.state) ) / <span class="constant">Dimensionless</span>.state ) &lt; <span class="integer">45</span> }  <span class="comment"># =&gt; true</span>
unit(<span class="string"><span class="delimiter">'</span><span class="content">C</span><span class="delimiter">'</span></span>) { [<span class="constant">NumberC</span>.state, <span class="constant">NumberF</span>.state, <span class="constant">Dimensionless</span>.state].min }                <span class="comment"># =&gt; 2</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Commands and Updates inside a unit block</p>
</div></p>
      
      <pre class="example code"><code>unit(<span class="string"><span class="delimiter">'</span><span class="content">F</span><span class="delimiter">'</span></span>) { <span class="constant">NumberC</span> &lt;&lt; <span class="integer">32</span> }; <span class="constant">NumberC</span>.state                                           <span class="comment"># =&gt; 0 C</span>
<span class="comment"># Equivalent to</span>
<span class="constant">NumberC</span> &lt;&lt; <span class="string"><span class="delimiter">&quot;</span><span class="content">32 F</span><span class="delimiter">&quot;</span></span>
<span class="comment"># or</span>
<span class="constant">NumberC</span> &lt;&lt; <span class="integer">32</span> | <span class="string"><span class="delimiter">&quot;</span><span class="content">F</span><span class="delimiter">&quot;</span></span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Specifying Multiple Units</p>
</div></p>
      
      <pre class="example code"><code>unit(<span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">kW</span><span class="delimiter">&quot;</span></span>) <span class="keyword">do</span>
  <span class="constant">TemperatureItem</span>.update(<span class="string"><span class="delimiter">&quot;</span><span class="content">50 F</span><span class="delimiter">&quot;</span></span>)
  <span class="constant">TemperatureItem</span>.state &lt; <span class="integer">20</span>          <span class="comment"># =&gt; true. TemperatureItem.state &lt; 20 C</span>
  <span class="constant">PowerUsage</span>.update(<span class="string"><span class="delimiter">&quot;</span><span class="content">3000 W</span><span class="delimiter">&quot;</span></span>)
  <span class="constant">PowerUsage</span>.state &lt; <span class="integer">10</span>               <span class="comment"># =&gt; true. PowerUsage.state &lt; 10 kW</span>
<span class="keyword">end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>units</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Unit or String representing unit</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>[] The block will be executed in the context of the specified unit(s).</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the result of the block</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>unit</strong>(dimension)  &#x21d2; <tt><a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Returns The current unit for the thread of the specified dimensions.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>unit(<span class="constant">SIUnits</span>::<span class="constant">METRE</span>.dimension) <span class="comment"># =&gt; ImperialUnits::FOOT</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dimension</span>
      
      
        <span class='type'>(<tt><a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Dimension.html" target="_parent" title="javax.measure.Dimension">javax.measure.Dimension</a></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The dimension to fetch the unit for.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The current unit for the thread of the specified dimensions</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


714
715
716
717
718
719
720
721
722
723
724
725
726
727</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 714</span>

<span class="keyword">def</span> <span class="function">unit</span>(*units)
  <span class="keyword">if</span> units.length == <span class="integer">1</span> &amp;&amp; units.first.is_a?(javax.measure.Dimension)
    <span class="keyword">return</span> <span class="constant">Thread</span>.current[<span class="symbol">:openhab_units</span>]&amp;.[](units.first)
  <span class="keyword">end</span>

  raise <span class="constant">ArgumentError</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">You must give a block to set the unit for the duration of</span><span class="delimiter">&quot;</span></span> <span class="keyword">unless</span> block_given?

  <span class="keyword">begin</span>
    old_units = unit!(*units)
    <span class="keyword">yield</span>
  <span class="keyword">ensure</span>
    <span class="constant">Thread</span>.current[<span class="symbol">:openhab_units</span>] = old_units
  <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unit!-class_method">
  
    
      <span class="overload">.<strong>unit!</strong>(*units)  &#x21d2; <tt>Hash&lt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Dimension.html" target="_parent" title="javax.measure.Dimension">javax.measure.Dimension</a>=&gt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a>&gt;</tt> </span>
    
      <span class="overload">.<strong>unit!</strong>  &#x21d2; <tt>Hash&lt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Dimension.html" target="_parent" title="javax.measure.Dimension">javax.measure.Dimension</a>=&gt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a>&gt;</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>This method is only intended for use at the top level of rule
scripts. If it's used within library methods, or hap-hazardly within
rules, things can get very confusing because the prior state won't be
properly restored.</p>
</div>
  </div>

<p>Permanently sets the implicit unit(s) for this thread</p>
<p><span class='object_link'><a href="#unit!-class_method" title="OpenHAB::DSL.unit! (method)">unit!</a></span> calls are cumulative - additional calls will not erase the effects
of previous calls unless they are for the same dimension.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>unit!</strong>(*units)  &#x21d2; <tt>Hash&lt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Dimension.html" target="_parent" title="javax.measure.Dimension">javax.measure.Dimension</a>=&gt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a>&gt;</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Set several defaults at once</p>
</div></p>
      
      <pre class="example code"><code>unit!(<span class="string"><span class="delimiter">&quot;</span><span class="content">F</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">ft</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">lbs</span><span class="delimiter">&quot;</span></span>)
(<span class="integer">50</span> | <span class="string"><span class="delimiter">&quot;</span><span class="content">F</span><span class="delimiter">&quot;</span></span>) == <span class="integer">50</span> <span class="comment"># =&gt; true</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Calls are cumulative</p>
</div></p>
      
      <pre class="example code"><code>unit!(<span class="string"><span class="delimiter">&quot;</span><span class="content">F</span><span class="delimiter">&quot;</span></span>)
unit!(<span class="string"><span class="delimiter">&quot;</span><span class="content">ft</span><span class="delimiter">&quot;</span></span>)
(<span class="integer">50</span> | <span class="string"><span class="delimiter">&quot;</span><span class="content">F</span><span class="delimiter">&quot;</span></span>) == <span class="integer">50</span> <span class="comment"># =&gt; true</span>
(<span class="integer">2</span> | <span class="string"><span class="delimiter">&quot;</span><span class="content">yd</span><span class="delimiter">&quot;</span></span>) == <span class="integer">6</span> <span class="comment"># =&gt; true</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Subsequent calls override the same dimension from previous calls</p>
</div></p>
      
      <pre class="example code"><code>unit!(<span class="string"><span class="delimiter">&quot;</span><span class="content">yd</span><span class="delimiter">&quot;</span></span>)
unit!(<span class="string"><span class="delimiter">&quot;</span><span class="content">ft</span><span class="delimiter">&quot;</span></span>)
(<span class="integer">2</span> | <span class="string"><span class="delimiter">&quot;</span><span class="content">yd</span><span class="delimiter">&quot;</span></span>) == <span class="integer">6</span> <span class="comment"># =&gt; true</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>units</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt><a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Unit or String representing unit.</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>unit!</strong>  &#x21d2; <tt>Hash&lt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Dimension.html" target="_parent" title="javax.measure.Dimension">javax.measure.Dimension</a>=&gt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a>&gt;</tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Clear all unit settings</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Clear all unit settings</p>
</div></p>
      
      <pre class="example code"><code>unit!(<span class="string"><span class="delimiter">&quot;</span><span class="content">ft</span><span class="delimiter">&quot;</span></span>)
unit!
(<span class="integer">2</span> | <span class="string"><span class="delimiter">&quot;</span><span class="content">yd</span><span class="delimiter">&quot;</span></span>) == <span class="integer">6</span> <span class="comment"># =&gt; false</span></code></pre>
    
  </div>


</div>
      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Dimension.html" target="_parent" title="javax.measure.Dimension">javax.measure.Dimension</a>=&gt;<a href="https://javadoc.io/doc/javax.measure/unit-api/latest/javax/measure/Unit.html" target="_parent" title="javax.measure.Unit">javax.measure.Unit</a>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the prior unit configuration</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


770
771
772
773
774
775
776
777
778
779</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openhab/dsl.rb', line 770</span>

<span class="keyword">def</span> <span class="function">unit!</span>(*units)
  units = units.each_with_object({}) <span class="keyword">do</span> |unit, r|
    unit = org.openhab.core.types.util.UnitUtils.parse_unit(unit) <span class="keyword">if</span> unit.is_a?(<span class="constant">String</span>)
    r[unit.dimension] = unit
  <span class="keyword">end</span>

  old_units = <span class="constant">Thread</span>.current[<span class="symbol">:openhab_units</span>] || {}
  <span class="constant">Thread</span>.current[<span class="symbol">:openhab_units</span>] = units.empty? ? {} : old_units.merge(units)
  old_units
<span class="keyword">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

        <footer>
  Generated on Sat Aug 26 13:14:00 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.3).
</footer>

      </main>
    </div>
  </body>
</html>
